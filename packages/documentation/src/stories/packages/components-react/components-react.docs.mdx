import { Meta, Source } from '@storybook/addon-docs/blocks';
import * as PackageStories from './components-react.stories';
import GlobalCSSSample from './global-css.sample.css?raw';
import CSRSample from './csr.sample.tsx?raw';
import SSRSample from './ssr.sample.tsx?raw';
import IconSample from './icon.sample.tsx?raw';
import changelog from '@/../../components-react/CHANGELOG.md?raw';
import PackageDocs from '@/shared/packages-docs-layout.mdx';

<Meta of={PackageStories} />

# @swisspost/design-system-components-react

<div className="npm-package-link">
  [![npm
  version](https://badge.fury.io/js/@swisspost%2Fdesign-system-components-react.svg)](https://badge.fury.io/js/@swisspost%2Fdesign-system-components-react)
</div>

<div className="lead">The Design System React Components, ready for use in your React project.</div>

<PackageDocs changelog={changelog}>
  ## Dependencies

  <div className="table-responsive table-fit-content text-start">
    <table aria-describedby="dependencies" className="table">
      <thead>
        <tr>
          <th scope="col">Version</th>
          <th scope="col">React</th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <th scope="row">10.x</th>
          <td>18.x || 19.x</td>
        </tr>
        <tr>
          <th scope="row">9.x</th>
          <td>18.x || 19.x</td>
        </tr>
      </tbody>
    </table>

  </div>

## Installation

<Source code={`npm install @swisspost/design-system-components-react`} language="bash" />

## Usage

Import the packages global styles. They are required for the components to work properly.

<Source code={GlobalCSSSample} language="scss" />

### Client side rendering (CSR)

The package provides two different javascript entry points. One for CSR (Client-Side Rendering) and one for SSR (Server-Side Rendering).

The CSR entry point is the default one and can be used in any project, that uses a supported react version.

<Source code={CSRSample} language="typescript" />

### Server side rendering (SSR)

The SSR entry point is needed for server-side rendering (e.g. in a NextJS project).

<Source code={SSRSample} language="typescript" />

### Icons
The package now includes generated React Server Component icon exports built from `@swisspost/design-system-icons`, therefore it's no longer necessary to have the icons package installed as a dependency to use icons. Under the hood, the `<post-icon>` component is being used to render the icons consistently, therefore also all the properties from this component are available for the react icons. See the [icon documentation](https://next.design-system.post.ch/?path=/docs/0dcfe3c0-bfc0-4107-b43b-7e9d825b805f--docs) for more information on it's features. Import react- and SSR-ready icons directly like:

<Source code={IconSample} language="typescript" />
</PackageDocs>
