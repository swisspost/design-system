import { Canvas, Controls, Meta, Source } from '@storybook/blocks';
import * as AvatarPictureStories from './avatar-picture.stories';

<Meta of={AvatarPictureStories} />

<div className="docs-title">
  # Avatar-Picture

  <nav>
    <link-design of={JSON.stringify(AvatarPictureStories)}></link-design>
  </nav>
</div>

<p className="lead">Avatar picture is used to display a user profile as a picture, initials, or an icon.</p>

The `<post-avatar-picture>` component provides several properties to change its appereance. The most important one is probably the `email` property, which is used to request a gravatar picture.

Don't know gravatar or haven't set up a profile yet, let's change this: [Signup](https://gravatar.com) now!

<Canvas of={AvatarPictureStories.Default} />
<Controls of={AvatarPictureStories.Default} />

## Property order

1. If an email address (with a gravatar profile behind) is defined on the component, this will be used before anything else.
2. If the component can't get a picture from gravatar, but instead a firstname and/or lastname is defined on the component, this will be used next.
3. If none of the above cases is true, the component will render a specific fallback icon.

## Check the Content Security Policy

If your project includes the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy">Content-Security-Policy</a> response header (usually in `index.html`),
make sure that `default-src` is set to `'self'`. In case you are using the `<post-avatar-picture>` component you need to add [`https://gravatar.com`](https://gravatar.com/) to the `connect-src` in index.html. This is because the component tries to load a profile picture from there, through the provided `email` property.
