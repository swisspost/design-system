import cardMeta, { Default } from './card.stories';
import { bombArgs } from '../../utilities/bombArgs';

<Meta title="Hidden/Cards snapshot test" />

<div style={{ display: 'flex', flexWrap: 'wrap', gap: '1rem', alignItems: 'start' }}>
  {['bg-white', 'bg-dark'].map(bg => {
    return (
      <div
        class={bg}
        style={{
          padding: '1rem',
          display: 'flex',
          gap: '1rem',
          flexWrap: 'wrap',
          alignItems: 'start',
        }}
      >
        {[
          // Layout related combinations
          ...bombArgs({
            showImage: [false, true],
            imagePosition: cardMeta.argTypes.imagePosition.options,
            showHeader: [false, true],
            showBody: [false, true],
            showFooter: [false, true],
          }),
          // Content related combinations
          ...bombArgs({
            showImage: [false],
            showBody: [true],
            showTitle: [false, true],
            showSubtitle: [false, true],
            showLinks: [false, true],
            showButton: [false, true],
            showListGroup: [false, true],
          }),
        ]
          // Has to show anything
          .filter(args => args.showHeader || args.showBody || args.showFooter || args.showImage)
          // Buttons and links are not possible
          .filter(args => !(args.showLinks && args.showButton))
          // No subtitle without title
          .filter(args => !(args.showSubtitle && !args.showTitle))
          // No single footer
          .filter(args => !(args.showFooter && !args.showBody && !args.showHeader))
          // No single header
          .filter(args => !(args.showHeader && !args.showBody && !args.showFooter))
          // No header and footer without content in between
          .filter(args => !(args.showHeader && args.showFooter && args.showBody === false))
          // Ignore header position if showHeader is false
          .filter(args => !(!args.showImage && args.imagePosition === 'card-img-bottom'))
          // Ignore header position if only img is shown
          .filter(
            args =>
              !(
                args.showImage &&
                !args.showBody &&
                !args.showHeader &&
                !args.showFooter &&
                args.imagePosition === 'card-img-bottom'
              ),
          )
          .map(args => Default({ ...cardMeta.args, ...args }))}
      </div>
    );
  })}
</div>
