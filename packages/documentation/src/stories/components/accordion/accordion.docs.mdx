import { Canvas, Controls, Meta, Source } from '@storybook/blocks';
import * as accordionStories from './accordion.stories';
import * as accordionItemStories from './accordion-item.stories';
import SampleCustomTrigger from './accordion-custom-trigger.sample?raw';

<Meta of={accordionStories} />

<div className="docs-title">
  # Accordion

  <nav>
    <link-design of={JSON.stringify(accordionStories)}></link-design>
  </nav>
</div>

<p className="lead">Toggle the visibility of a set of related content in your project.</p>

The `<post-accordion>` is a container for `<post-accordion-item>` components.
It is used to manage how content is shown and hidden across a set of collapsible elements.

<Canvas sourceState="shown" of={accordionStories.Default} />

## `<post-accordion>`

<Controls of={accordionStories.Default} />

## `<post-accordion-item>`

<Controls of={accordionItemStories.Default} />

## Installation

The `<post-accordion>` element is part of the `@swisspost/design-system-components` package.
For more information, read the [getting started with components guide](/?path=/docs/edfb619b-fda1-4570-bf25-20830303d483--docs).

## Examples

### Logos

A Logo can be added in front of the heading by providing an image.

<Canvas of={accordionStories.Logos}>

### Multiple Open Panels

By default, whenever a panel is opened manually or programmatically, any other open panel is closed.
To allow multiple panels to be open at the same time, use the `multiple="true"` property.

<Canvas of={accordionStories.MultipleOpenPanels} />

### Initially Closed Panel

Use the `collapsed="true"` property on all `post-accordion-item` you want to be initially closed.
The first panel without this property will be initially open,
or if the accordion is configured with the `multiple="true"` property, all other panels will be open.

<Canvas of={accordionStories.DefaultCollapsedPanels} />

### Heading Levels

To ensure accessibility, all accordion titles are contained within heading tags (`h1`-`h6`) behind the scenes.
It is essential to set the appropriate `heading-level` property on the `post-accordion` so that it matches the structure of your page properly.

<Canvas of={accordionStories.Nested} />

### Custom Trigger

The `<post-accordion>` offers several methods to expand or collapse the `<post-accordion-item>` it contains.

Expand or collapse all elements at once using `.expandAll()` and `.collapseAll()` respectively,
or toggle just one using `.toggle()` specifying the id of the element you want to act on.

<Source
  code={SampleCustomTrigger}
  language="typescript"
/>
