import { Canvas, Controls, Meta, Source } from '@storybook/blocks';
import * as TooltipStories from './tooltip.stories';
import * as TooltipTriggerStories from './tooltip-trigger.stories';
import SampleDynamicTooltipCode from './dynamic-tooltip-code.sample.html?raw';
import SampleDynamicTooltipData from './dynamic-tooltip-data.sample.ts?raw';

<Meta of={TooltipStories} />

<div className="docs-title">
  # Tooltip

  <nav>
    <link-design of={JSON.stringify(TooltipStories)}></link-design>
  </nav>
</div>

<div className="lead">For short, informative messages or explanations.</div>

<Canvas sourceState="shown" of={TooltipStories.Default} />
<Controls of={TooltipStories.Default} />

## `<post-tooltip-trigger>`

The `<post-tooltip-trigger>` component enables you to show tooltips with customizable delay.

<Canvas sourceState="shown" of={TooltipTriggerStories.Default} />
<Controls of={TooltipTriggerStories.Default} />

## Installation

The `<post-tooltip>` element is part of the `@swisspost/design-system-components` package. For more information, read the
[getting started with components guide](/?path=/docs/edfb619b-fda1-4570-bf25-20830303d483--docs).

## Examples

### Tooltip on non-focusable elements

If you assign a tooltip to a non-focusable element, the component will add `tabindex="0"` automatically. With that, the tooltip is also visible for keyboard users. Also, if you forget to link the tooltip and the trigger with `aria-describedby="tooltip-id"`, we've got you covered.

<Canvas of={TooltipStories.NonFocusable} />

### One tooltip on multiple elements

The same tooltip can be displayed on multiple elements. This reduces the amount of markup necessary.

<Canvas of={TooltipStories.Multiple} />

### Dynamic tooltips

To generate a list of items with a corresponding unique tooltip for each one, you can use Angularâ€™s `*ngFor` directive to create them dynamically.

#### Data

Each element needs to have its own unique ID in order to be connected to its own tooltip dynamically.

<Source code={SampleDynamicTooltipData} language="typescript" />

#### NgFor integration

Adding the same `for` attribute to the `<post-tooltip-trigger>` and `ID` attribute to the `<post-tooltip>` will ensure their connection to each other.

<Source code={SampleDynamicTooltipCode} language="html" />
