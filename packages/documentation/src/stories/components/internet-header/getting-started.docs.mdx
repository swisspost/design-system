import { Meta, Source } from '@storybook/blocks';
import { PostTabHeader, PostTabPanel, PostTabs } from '@swisspost/design-system-components-react';
import SampleFrameworks from './internet-header-frameworks.sample.html?raw';
import SampleLazyLoaded from './internet-header-lazy-loaded.sample.js?raw';
import SampleBareComponent from './internet-header-bare-component.sample.js?raw';
import SampleCDNLazyLoaded from './internet-header-cdn-lazy-loaded.sample.html?raw';
import SampleCDNBareComponent from './internet-header-cdn-bare-component.sample.html?raw';
import { SourceDarkMode } from '../../../../.storybook/preview';
import * as GettingStartedStories from './getting-started.stories';

<Meta of={GettingStartedStories} />

# @swisspost/internet-header

[![npm version](https://badge.fury.io/js/@swisspost%2Finternet-header.svg)](https://badge.fury.io/js/@swisspost%2Finternet-header)

The header for client-facing applications.

    <ul>
    <li><a href="#installation" target="_self">Installation</a></li>
    <li><a href="#configuration" target="_self">Configuration</a></li>
    <li><a href="#help" target="_self">Help</a></li>
    </ul>

## Installation

### Choosing between lazy-loaded or bare component version

Internet-header package provide two versions:

- Lazy-loaded (default): it allows better performance by dynamically load the component when used, so it reduces bundle size, startup time and first paint.
- Bare component: if you already manage the lazy-loading or don't need it for any reason, you can use the component without any overhead.

### Angular, Vue.js, React (or any other bundler setup)

All the popular frameworks come with some form of bundler.
This makes it easy to use npm packages like the Internet Header as you can import,
bundle and deliver the header with your own code.

When working with Angular or any other framework, the easiest installation method is via npm.

<Source code={`npm install @swisspost/internet-header`} dark={SourceDarkMode} language="bash" />

<Source code={SampleFrameworks} dark={SourceDarkMode} language="html" />

<PostTabs>
  <PostTabHeader slot="tabs" panel="lazy-loaded">Lazy-Loaded</PostTabHeader>
  <PostTabPanel name="lazy-loaded">
    <Source code={SampleLazyLoaded} dark={SourceDarkMode} language="javascript" />
  </PostTabPanel>

  <PostTabHeader slot="tabs" panel="bareComponent">Bare Component</PostTabHeader>
  <PostTabPanel name="bareComponent">
    <Source code={SampleBareComponent} dark={SourceDarkMode} language="javascript" />
  </PostTabPanel>
</PostTabs>

### Include from a CDN

If you are not using any bundler or don't want to install from npm, you can load the `internet-header` from your favourite [CDN](https://en.wikipedia.org/wiki/Content_delivery_network).<br/>
Make sure to replace `{version}` with the version you want to use or remove `@{version}` to use the latest version.

Available CDNs:

- [jsDelivr](https://www.jsdelivr.com/): replace `{cdnURL}` with [https://cdn.jsdelivr.net/npm/@swisspost/internet-header](https://cdn.jsdelivr.net/npm/@swisspost/internet-header).
- [unpkg](https://unpkg.com/): replace `{cdnURL}` with [https://unpkg.com/@swisspost/internet-header](https://unpkg.com/@swisspost/internet-header).

<PostTabs>
  <PostTabHeader slot="tabs" panel="lazy-loaded">Lazy-Loaded</PostTabHeader>
  <PostTabPanel name="lazy-loaded">
    <Source code={SampleCDNLazyLoaded} dark={SourceDarkMode} language="html" />
  </PostTabPanel>

  <PostTabHeader slot="tabs" panel="bareComponent">Bare Component</PostTabHeader>
  <PostTabPanel name="bareComponent">
    <Source code={SampleCDNBareComponent} dark={SourceDarkMode} language="html" />
  </PostTabPanel>
</PostTabs>
## Configuration

The Internet Header is built to support the already existing Portal Configuration used for the old Internet Header.

If you're working on a new project, you probably need a new configuration. Please click the button below.

<a
  className="mb-small-r btn-primary btn"
  href="mailto:digitalconsulting@post.ch"
  target="_blank"
>Contact Post Portal Team <post-icon name="1001" className="fs-large" /></a>

Not every Online Service has configurations for all environments.
For example, "TOPOS" only has `int02` configured and cannot use `int01` as value for environment.
If you are not sure what's configured for your project, please reach out to the post-portal team as well.

For settings on the header itself, see the examples provided in the left menu bar.

## Help

If you noticed a bug or need assistance with migrating to the new Internet Header, please post your enquiry at the [Design System GitHub Discussions](https://github.com/swisspost/design-system/discussions/categories/q-a).
