import { Canvas, Controls, Meta, Source } from '@storybook/addon-docs/blocks';
import meta, * as ToastStories from './toast.stories';
import StylesPackageImport from '@/shared/styles-package-import';
import PackageTag from '@/shared/package-tag';
import NgxToastr from './ngx-toastr.sample?raw';
import NgxToastrDismissible from './ngx-toastr-dismissible.sample?raw';

<Meta of={ToastStories} />

<div className="docs-title">
  # Toast

<link-design of={JSON.stringify(ToastStories)}></link-design>

</div>

<PackageTag meta={meta} />

<div className="lead">
  Push notifications to your visitors with a <code>.toast</code> element, a lightweight and easily
  customizable alert message.
</div>

Toasts are lightweight notifications designed to mimic the push notifications that have been popularized by mobile and desktop operating systems.
They are intended to be small interruptions to your visitors or users, and therefore should contain minimal, to-the-point, non-interactive content.

<Canvas sourceState="shown" of={ToastStories.Default} />
<div className="hide-col-default">
  <Controls of={ToastStories.Default} />
</div>

<StylesPackageImport components={['toast']} />

## Concrete Examples of Application

The following examples show the different characteristics of the component. These can differ in the type of visualization, the HTML structure, as well as when, how and why they are displayed.

### Auto Close

<Canvas of={ToastStories.AutoClose} />

Toasts should be closed automatically after a while, because they usually overlay the regular content.
Each change on the screen should remain for at least 3-6 seconds for the user to perceive it.
The longer the text in toast becomes, the longer the message should be displayed. However, 10-12 seconds should be enough.
If the text is longer than 4 lines, you should consider using an `.alert` instead of a `.toast`.

Last but not least, if the user moves the mouse or the focus to the `.toast` element, the automatic closing should be interrupted/paused and when the mouse/focus leaves the element again, the automatic closing delay should be restarted.

### Stacked

You can stack toasts by wrapping them in a `.toast-container`, which will vertically add some spacing.

<Canvas of={ToastStories.Stacked} />

## Accessibility

Toasts are intended to be small interruptions to your visitors or users, so to help those with screen readers and similar assistive technologies, you should wrap your toasts in an Live region.

See how to implement it on our [live regions documentation](/?path=/docs/548d973c-679c-4a02-96cd-70f82aec5f65--docs).

## Integration with `ngx-toastr`

When using `ngx-toastr` in an Angular project, Design System styles can be applied to toast notifications by overriding the default `ngx-toastr` classes.

To do this, set the appropriate classes via the `toastClass` option:

- Information toast: `toast toast-info`
- Success toast: `toast toast-success`
- Warning toast: `toast toast-warning`
- Error toast: `toast toast-error`

<Source code={NgxToastr} language="ts" />

#### Dismissible toasts

For dismissible toasts (i.e. `closeButton` is set to `true`), the `toast-dismissible` class must also be included in the `toastClass` configuration.

<Source code={NgxToastrDismissible} language="ts" />

#### CSS import order

To ensure that Design System styles override the default `ngx-toastr` styles, the Design System CSS files must be imported <b>after</b> the `ngx-toastr` CSS files.
