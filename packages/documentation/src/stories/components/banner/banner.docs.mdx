import { Canvas, Controls, Meta, Source } from '@storybook/addon-docs/blocks';
import StylesPackageImport from '@/shared/styles-package-import.mdx';
import * as PostBannerStories from './post-banner.stories';
import BannerDismissSample from './banner-dismiss.sample?raw';

<Meta of={PostBannerStories} />

<div className="docs-title">
  # Banner

<link-design of={JSON.stringify(PostBannerStories)}></link-design>

</div>

<div className="lead">
  A banner shows general notifications for a product or system, not a specific task and should therefore not require the user to take immediate action. Banners can persist across multiple sessions.
</div>

<Canvas sourceState="shown" of={PostBannerStories.Default} />

<Controls of={PostBannerStories.Default} />

## Installation

The `<post-banner>` element is part of the `@swisspost/design-system-components` package.
For more information, read the [getting started with components guide](/?path=/docs/edfb619b-fda1-4570-bf25-20830303d483--docs).

## Examples

### Contents

Banners can contain various HTML elements like paragraphs, lists, icons and dividers.

By default all children of the `<post-banner>` are placed in the body.
Use the `heading` slot to place a child in the heading, and the `actions` slot for action buttons.
Learn more about <a rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_templates_and_slots#adding_flexibility_with_slots">slots in the mdn web docs</a>.

<Canvas of={PostBannerStories.Contents} />

### Dismissal

The `dismissible` property can be set to enable users to dismiss the banner.
When present, it specifies that the banner should contain a dismiss button,
and you must provide a label for this button using the `dismiss-label` property.
Although the label remains hidden from view, it is essential for ensuring accessibility for users of assistive technologies.

<Canvas of={PostBannerStories.Dismissible} />

Alternatively, you can use any button, including action buttons within the banner, as a trigger for dismissing the banner using the `.dismiss()` method.
This method operates asynchronously and returns a promise that resolves once the fade-out animation has finished.

<Source code={BannerDismissSample} language="typescript"/>
