import { Meta, Source } from '@storybook/blocks';
import { PostTabHeader, PostTabPanel, PostTabs } from '@swisspost/design-system-components-react';
import StylesPackageImport from '@/shared/styles-package-import.mdx';
import PostComponentDemoLink from '@/shared/post-component-demo-link.mdx';
import NgbComponentImport from '@/shared/nb-bootstrap/ngb-component-import.mdx';
import * as notificationOverlayStories from './notification-overlay.stories';
import basicExampleHTML from './notification-overlay.sample.html?raw';
import basicExampleAngular from './notification-overlay.sample.ts?raw';

<Meta of={notificationOverlayStories} />

<div className="docs-title">
  # Notification overlay

  <nav>
    <link-design of={JSON.stringify(notificationOverlayStories)}></link-design>
    <PostComponentDemoLink component="notification-overlay" />
  </nav>
</div>

<p className="lead">
  Present the user with important information or a decision before continuing the workflow.
</p>

<div className="banner banner-warning mb-4">
  This component is deprecated and will be removed in a future major version.
</div>

<ul>
  <li>
    <a href="#component-import" target="_self">
      Component Import
    </a>
  </li>
  <li>
    <a href="#style-imports" target="_self">
      Style Imports
    </a>
  </li>
  <li>
    <a href="#focus-management" target="_self">
      Focus Management
    </a>
  </li>
  <li>
    <a href="#examples" target="_self">
      Examples
    </a>
  </li>
</ul>

<NgbComponentImport module="NgbModalModule" />

<StylesPackageImport components={['modal']} />

## Focus Management

Since the notification overlay appears above the page, generally blocking interaction with the content below,
it is important that the focus is move to an element within it.

By default, it is the first focusable element within the modal that receives focus upon opening.
However, You can decide to focus any other element by adding an `ngbAutofocus` attribute to it.

## Examples

### Notify the user of an incomplete field before continuing

<PostTabs>
  <PostTabHeader panel="basicExampleHTML">template.html</PostTabHeader>
  <PostTabPanel name="basicExampleHTML">
    <Source code={basicExampleHTML} language="html"/>
  </PostTabPanel>

  <PostTabHeader panel="basicExampleAngular">component.ts</PostTabHeader>
  <PostTabPanel name="basicExampleAngular">
    <Source code={basicExampleAngular} language="ts"/>
  </PostTabPanel>
</PostTabs>
