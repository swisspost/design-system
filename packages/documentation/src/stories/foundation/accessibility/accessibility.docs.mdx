import { Meta, Source } from '@storybook/blocks';
import * as AccessibilityStories from './accessibility.stories';
import liveRegionGoodAngularSample from './liveregion-good-angular.sample.html?raw';
import liveRegionBadAngularSample from './liveregion-bad-angular.sample.html?raw';

<Meta of={AccessibilityStories} />

# Accessibility

<div className="alert alert-md alert-danger">
  TODO: write accessibility page
</div>

## Forms

### Grouping

TODO: write accessibility guide about grouping form elements
https://www.accessibility-developer-guide.com/examples/forms/grouping-with-fieldset-legend/

### Labels

TODO: write accessibility guide about form labels (visible and invisible), aria-label, ...

### Disabled state

TODO: write accessibility guide about disabled states on input, textarea, select, select-options,
...

## Live region

A live region allows you to notify the user about a dynamic change without requiring the page to reload e.g. alert, loading status, chat logs, update of a product cart, feeds, etc.
They are defined either by using the `aria-live` attribute or some specific `role` attributes such as `role=status`, `role=alert`, `role=log`, etc.

### Add or remove dynamically a live region

As a best practice, live region should be present on the page load and only the content inside it should change.

#### Example with a spinner on Angular

When adding, for example, a spinner above a section, the spinner code should be always present,
and then you can use `ng-container` to add the content when the spinner is active.

##### Good example

<Source code={liveRegionGoodAngularSample} language="html" />

##### Bad example

You shouldn't add the whole region dynamically as the accessibility might not be [re-rendered with some screen readers](https://www.scottohara.me/blog/2022/02/05/are-we-live.html#non-normative-rule-for-common-live-region-use-case).

<Source code={liveRegionBadAngularSample} language="html" />
