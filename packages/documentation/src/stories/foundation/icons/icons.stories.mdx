import { Meta, Canvas, Story } from '@storybook/addon-docs';
import LinkTo from '@storybook/addon-links/react';
import { Search } from './icons.components';

<Meta
  title="Foundations/Icons"
  parameters={{
    previewTabs: {
      canvas: {
        hidden: true,
      },
    },
    viewMode: 'docs',
  }}
/>

# Icons

<p className="lead">
  The official Swiss Post Icon Library for the web with over 800 high-quality scalable vector
  graphics.
</p>

The icons are designed to work with the Swiss Post Design System components. They are SVGs, so they scale and can be styled with CSS.

<!-- this is an invisible, navigation-only story -->

<Story name="Start">
  <div />
</Story>

## Usage

When using the `post-icon` component, the SVG files are loaded from the [unpkg CDN](https://unpkg.com/) by default. If you like to host the icons yourself, you can follow the steps below.

### Self-hosting the icons

Depending on an external CDN might not be ideal in your case, therefore we provide you with a way of self-hosting the SVG files on your server.

#### Installation

Install the [icons package](https://www.npmjs.com/package/@swisspost/design-system-icons) from npm.

```bash dark
npm install @swisspost/design-system-icons
```

#### Serving the icons

For your project to be able to access the installed icons, you need a way to copy the icons in a `public` assets folder (this folder might have a different name in your project). The installed SVG files are available under:

`./node_modules/@swisspost/design-system-icons/public/post-icons/[name].svg`

#### Setting the base path

To let the `post-icon` component know where your self-hosted icons are available, set the following meta tag in the `head` section of your page:

```html dark
<html lang="en">
  <head>
    <meta name="design-system-settings" data-post-icon-base="/your/path/to/post-icons/" />
    ...
  </head>
</html>
```

If you don't have access to your head section, you can also set the base path on each icon:

```html dark
<post-icon name="1001" base="/your/path/to/post-icons/"></post-icon>
```

## Working with `post-icon` component

The following documentation is using the `post-icon` component.

### Color

By default, icons inherit the current text color of their parent element.<br/>
You can therefore colorize an icon using our <LinkTo kind="utilities-text" story="color">text color utilities</LinkTo> or by setting the CSS directly through a style attribute or self-defined classes.

<Canvas withSource="open">
  <Story
    name="Color"
    decorators={[
      Story => (
        <div className="d-flex flex-wrap gap-2" style={{ fontSize: '32px' }}>
          <Story />
        </div>
      ),
    ]}
  >
    <post-icon name="1001" class="text-primary" />
    <post-icon name="1001" class="text-info" />
    <post-icon name="1001" class="text-success" />
    <post-icon name="1001" style={{ color: 'blue' }} />
    <post-icon name="1001" style={{ color: '#800080' }} />
    <post-icon name="1001" style={{ color: 'rgb(230, 0, 0)' }} />
  </Story>
</Canvas>

### Size

Icons have a default `width` of `1em`, which means they will scale with the size of the current `font-size`. Therefore, you can manage the size of an icon using our <LinkTo kind="utilities-text" story="font-size">font-size utilities</LinkTo> or by setting the CSS directly through a style attribute or self-defined classes.

<Canvas withSource="open">
  <Story
    name="Size"
    decorators={[
      Story => (
        <div className="d-flex flex-column gap-2">
          <Story />
        </div>
      ),
    ]}
  >
    <p className="mb-0">
      Icon <post-icon name="1001" />
    </p>
    <p className="h3 mb-0">
      Icon <post-icon name="1001" />
    </p>
    <p className="h1 mb-0">
      Icon <post-icon name="1001" />
    </p>
    <p className="fs-huge mb-0">
      Icon <post-icon name="1001" />
    </p>
    <p className="mb-0" style={{ fontSize: '60px' }}>
      Icon <post-icon name="1001" />
    </p>
    <post-icon name="1001" style={{ fontSize: '80px' }} />
  </Story>
</Canvas>

### Style

With the use of our [border](#TODO), [background](#TODO) and [padding](#TODO) utilities, you can create various styling effects.

<Canvas withSource="open">
  <Story
    name="Style"
    decorators={[
      Story => (
        <div className="d-flex flex-wrap gap-2" style={{ fontSize: '64px' }}>
          <Story />
        </div>
      ),
    ]}
  >
    <post-icon name="1001" class="border rounded p-3" />
    <post-icon name="1001" class="border border-success rounded p-3 text-success" />
    <post-icon name="1001" class="rounded-circle bg-info p-3" />
  </Story>
</Canvas>

### Transformations

#### Flipping

Flip the icon horizontally and/or vertically with the `flip-h` and `flip-v` props.

<Canvas withSource="open">
  <Story
    name="Flipping"
    decorators={[
      Story => (
        <div className="d-flex flex-wrap gap-2" style={{ fontSize: '32px' }}>
          <Story />
        </div>
      ),
    ]}
  >
    <post-icon name="3200" />
    <post-icon name="3200" flip-h />
    <post-icon name="3200" flip-v />
    <post-icon name="3200" flip-h flip-v />
  </Story>
</Canvas>

#### Scaling

Scale the icon by any positive factor via the `scale` prop. Note this changes the icon's visual size but not its physical font size. To illustrate this we have added a background color to the icons.

<Canvas withSource="open">
  <Story
    name="Scaling"
    decorators={[
      Story => (
        <div className="d-flex flex-wrap gap-3" style={{ fontSize: '32px' }}>
          <Story />
        </div>
      ),
    ]}
  >
    <post-icon name="3200" class="bg-info" scale="0.5" />
    <post-icon name="3200" class="bg-info" />
    <post-icon name="3200" class="bg-info" scale="1.5" />
  </Story>
</Canvas>

#### Rotating

Rotate the icon by a number of degrees with the `rotate` prop. Positive values will rotate the icon clockwise, while negative values will rotate the icon counterclockwise.

<Canvas withSource="open">
  <Story
    name="Rotating"
    decorators={[
      Story => (
        <div className="d-flex flex-wrap gap-2" style={{ fontSize: '32px' }}>
          <Story />
        </div>
      ),
    ]}
  >
    <post-icon name="1001" rotate="-360" />
    <post-icon name="1001" rotate="-249" />
    <post-icon name="1001" rotate="-35.5" />
    <post-icon name="1001" rotate="0" />
    <post-icon name="1001" rotate="98" />
    <post-icon name="1001" rotate="360" />
    <post-icon name="1001" rotate="753" />
  </Story>
</Canvas>

#### Animating

The `post-icon` includes the following built-in animations for icons:

- `cylon` slides the icon left and right
- `cylon-vertical` slides the icon up and down
- `spin` smoothly spins the icon clockwise
- `spin-reverse` smoothly spins the icon counter-clockwise
- `fade` fades the icon in and out
- `throb` scales the icon in and out

To use them, set the `animation` prop to one of the animation names above.

<Canvas withSource="open">
  <Story
    name="Animating"
    decorators={[
      Story => (
        <div className="d-flex flex-wrap text-center" style={{ fontSize: '32px' }}>
          <Story />
        </div>
      ),
    ]}
  >
    <div className="w-50 py-3">
      <p className="text-muted fs-tiny">Cylon animation:</p>
      <post-icon name="2253" animation="cylon" />
    </div>
    <div className="w-50 py-3">
      <p className="text-muted fs-tiny">Vertical cylon animation:</p>
      <post-icon name="2252" animation="cylon-vertical" />
    </div>
    <div className="w-50 py-3">
      <p className="text-muted fs-tiny">Spinning animation:</p>
      <post-icon name="2041" animation="spin" />
    </div>
    <div className="w-50 py-3">
      <p className="text-muted fs-tiny">Reverse spinning animation:</p>
      <post-icon name="2042" animation="spin-reverse" />
    </div>
    <div className="w-50 py-3">
      <p className="text-muted fs-tiny">Fade animation:</p>
      <post-icon name="1028" animation="fade" />
    </div>
    <div className="w-50 py-3">
      <p className="text-muted fs-tiny">Throb animation:</p>
      <post-icon name="2063" animation="throb" />
    </div>
  </Story>
</Canvas>

## Icons

<!-- this is an invisible, navigation-only story -->

<Story name="Icons">
  <div />
</Story>

Use the grid below to search and browse the available icons.<br/>
The icons keywords are only available in german for now. Keep this in mind, while searching...

<Search />
