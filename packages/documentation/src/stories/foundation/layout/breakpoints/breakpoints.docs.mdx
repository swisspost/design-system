import { Meta, Source } from '@storybook/blocks';
import { formatAsMap } from '../../../../utils/sass-export';
import { BreakpointTable, SCSS_VARIABLES } from './breakpoints.blocks';
import * as BreakpointStories from './breakpoints.stories';
import SampleMinWidth from './breakpoints-min-width.sample.scss?raw';
import SampleMaxWidth from './breakpoints-max-width.sample.scss?raw';
import SampleSingle from './breakpoints-single.sample.scss?raw';
import SampleBetween from './breakpoints-between.sample.scss?raw';

<Meta of={BreakpointStories} />

# Breakpoints

<div className="lead">
  Breakpoints are widths that determine how the responsive layout behaves across device or viewport
  sizes.
</div>

## Available breakpoints

The Swiss Post Design System includes
<span>{Object.keys(SCSS_VARIABLES.breakpoint).length}</span>
breakpoints, sometimes referred to as grid tiers, for building responsively. These breakpoints can be customized if you’re using our source Sass files.

<div className="alert alert-md alert-warning">
  <h2 className="alert-heading">The <code>regular</code> Breakpoint is deprecated</h2>
  <p>Its CSS helper classes, as well as its SASS variables and mixins will be removed in the future.</p>
</div>

<BreakpointTable />

## CSS

When using our source Sass files, you have the option of using Sass variables to change the breakpoints (not recommended).

### Sass variables

<Source
  language="scss"
  dark
  code={Object.entries(SCSS_VARIABLES.variables)
    .map(([key, value]) => `$${key}: ${formatAsMap(value)};`)
    .join('\n')}
></Source>

### Sass mixins

There are several mixins available to use in your own Sass to help with building responsive layouts.

#### Min-width

We primarily use the following media query ranges—or breakpoints—in our source Sass files for our layout, grid system, and components.

<Source
  code={SampleMinWidth}
  language="scss"
/>

#### Max-width

We occasionally use media queries that go in the other direction.

<Source
  code={SampleMaxWidth}
  language="scss"
/>

#### Single breakpoint

There are also media queries and mixins for targeting a single segment of screen sizes using the minimum and maximum breakpoint widths.

<Source
  code={SampleSingle}
  language="scss"
/>

#### Between breakpoints

Similarly, media queries may span multiple breakpoint widths.

<Source
  code={SampleBetween}
  language="scss"
/>
