import { Meta, Source } from '@storybook/blocks';
import { formatAsMap } from '@/utils/sass-export';
import { BreakpointTable, SCSS_VARIABLES } from './breakpoints.blocks';
import * as BreakpointStories from './breakpoints.stories';
import SampleMinWidth from './breakpoints-min-width.sample.scss?raw';
import SampleMaxWidth from './breakpoints-max-width.sample.scss?raw';
import SampleSingle from './breakpoints-single.sample.scss?raw';
import SampleBetween from './breakpoints-between.sample.scss?raw';

<Meta of={BreakpointStories} />

# Breakpoints

<div className="lead">
  Breakpoints are specific screen widths that allow your design to be responsive.
</div>

A responsive design ensures that the layout of your application adapts to different screen sizes,
making it look good and function well on all types of devices.

## Available Breakpoints

The Swiss Post Design System uses <strong>{Object.keys(SCSS_VARIABLES.breakpoint).length} breakpoints</strong> to help you build responsive applications:

<BreakpointTable />

## Using Breakpoints in CSS

You can use these breakpoints in your CSS to control how your layout adjusts to different screen sizes.
If you're working with Sass, you can also use special variables and functions (called mixins) to simplify this process.

### Sass Variables

Breakpoints are defined in the `post.$grid-breakpoints` map, which links each breakpoint to its corresponding minimum screen size:

<Source
  language="scss"
  dark
  code={Object.entries(SCSS_VARIABLES.variables)
    .map(([key, value]) => `$${key}: ${formatAsMap(value)};`)
    .join('\n')}
></Source>

### Sass mixins

Media queries are used in CSS to apply different styles at different screen sizes.
The Swiss Post Design System provides several mixins to help you use these media queries easily in your Sass code.

#### Min-width

The min-width query applies styles when the screen is at least as wide as the given breakpoint. For example:

<Source
  code={SampleMinWidth}
  language="scss"
/>

#### Max-width

The max-width query applies styles when the screen is narrower than the given breakpoint:

<Source
  code={SampleMaxWidth}
  language="scss"
/>

#### Single breakpoint

To target only one specific range of screen sizes, use the following mixin:

<Source
  code={SampleSingle}
  language="scss"
/>

#### Between breakpoints

You can also target a range between two breakpoints, like so:

<Source
  code={SampleBetween}
  language="scss"
/>
