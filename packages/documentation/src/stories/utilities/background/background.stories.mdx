import { Meta, Canvas, Story } from '@storybook/addon-docs';
import LinkTo from '@storybook/addon-links/react';
import { forEach } from '../../../utils/react';
import { BackgroundContainer, SCSS_VARIABLES } from './background.components';

<Meta
  title="Utilities/Background"
  parameters={{
    previewTabs: {
      canvas: {
        hidden: true,
      },
    },
    viewMode: 'docs',
    badges: ['TODO'],
  }}
/>

# Background

<p className="lead">
  Similar to the contextual text color classes, set the background of an element to any contextual
  class.
</p>
Background utilities do also affect text colors, by defining the following css variables:

- `--post-contrast-color` and `--post-contrast-color-rgb`
- `--post-contrast-color-inverted` and `--post-contrast-color-inverted-rgb`

## Background containers

To use the background utilities, you can simply add a class `.bg-{colorname}` to a container.

<Canvas withSource="open">
  <Story name="Background containers">
    <div class="bg-yellow p-3">Content</div>
  </Story>
</Canvas>

### Available backgrounds

#### Base

<section className="background-container__section">
  {forEach(SCSS_VARIABLES.base, function (data) {
    return <BackgroundContainer key={data.key} name={data.key} color={data.value} />;
  })}
</section>

#### Contextual

<section className="background-container__section">
  {forEach(SCSS_VARIABLES.contextual, function (data) {
    return <BackgroundContainer key={data.key} name={data.key} color={data.value} />;
  })}
</section>

#### Accent

<section className="background-container__section">
  {forEach(SCSS_VARIABLES.accent, function (data) {
    return <BackgroundContainer key={data.key} name={data.key} color={data.value} />;
  })}
</section>

## Nested

It's possible to nest background containers.

<p className="alert alert-info alert-md">
  Every container defines its own text color and inverted text color css variables to always ensure
  the best possible contrast.
</p>

<Canvas withSource="open">
  <Story name="Nested">
    <div class="bg-gray p-3">
      Content in <code>.bg-gray</code> container.
      <div class="bg-dark p-3">
        Content in <code>.bg-dark</code> container.
        <div class="bg-light p-3">
          Content in <code>.bg-light</code> container.
        </div>
      </div>
    </div>
  </Story>
</Canvas>

## Opacity

Use the css variable `--post-bg-opacity` on a background container, to modify the opacity of its background color.

<p className="alert alert-info alert-md">
  We do not recommend low opacity because you have to ensure a minimal contrast ratio of 4.5:1
  between background and foreground. Read more about this topic on our{' '}
  <LinkTo kind="foundations-accessibility">accessibility</LinkTo> page.
</p>

<Canvas withSource="open">
  <Story name="Opacity">
    <div class="bg-aubergine p-3">Container with default opacity (1).</div>
    <div class="bg-aubergine p-3" style={{ '--post-bg-opacity': 0.8 }}>
      Container with opacity 0.8.
    </div>
    <div class="bg-aubergine p-3" style={{ '--post-bg-opacity': 0.6 }}>
      Container with opacity 0.6.
    </div>
    <div class="bg-aubergine p-3" style={{ '--post-bg-opacity': 0.4 }}>
      Container with opacity 0.4.
    </div>
    <div class="bg-aubergine p-3" style={{ '--post-bg-opacity': 0.2 }}>
      Container with opacity 0.2.
    </div>
  </Story>
</Canvas>
