import { Canvas, Meta } from '@storybook/blocks';
import { forEach } from '../../../utils/react';
import { parse } from '../../../utils/sass-export';
import { BackgroundContainer } from './background.blocks';
import * as BackgroundStories from './background.stories';
import scss from './background.module.scss';
import './background.styles.scss';

export const backgroundColors = parse(scss);

<Meta of={BackgroundStories} />

# Background

<div className="lead">
  Use the background utility classes to set the background of an element to any predefined color.
</div>

Background utilities also set the text color by defining the following CSS variables:

- `--post-contrast-color` and `--post-contrast-color-rgb`
- `--post-contrast-color-inverted` and `--post-contrast-color-inverted-rgb`

## Background Containers

To set a background on an element, simply add a `.bg-{colorname}` class to it.

<Canvas of={BackgroundStories.ColoredBackground} sourceState='shown' />

### Available Backgrounds

#### Base

<section className="background-container__section">
  {forEach(backgroundColors.base, function (data) {
    return <BackgroundContainer key={data.key} name={data.key} color={data.value} />;
  })}
</section>

#### Contextual

<section className="background-container__section">
  {forEach(backgroundColors.contextual, function (data) {
    return <BackgroundContainer key={data.key} name={data.key === 'info' ? data.key : data.key + ' (Deprecated)'} color={data.value} />;
  })}
</section>

#### Signal

<section className="background-container__section">
  {forEach(backgroundColors.signal, function (data) {
    return <BackgroundContainer key={data.key} name={data.key} color={data.value} />;
  })}
</section>

#### Accent

<section className="background-container__section">
  {forEach(backgroundColors.accent, function (data) {
    return <BackgroundContainer key={data.key} name={data.key} color={data.value} />;
  })}
</section>

## Nested

It is possible to nest backgrounds.

<div className="alert alert-info alert-md">
  Text color and inverted text color CSS variables are set for each background to always ensure the
  best possible contrast.
</div>

<Canvas of={BackgroundStories.NestedBackgrounds} sourceState='shown' />

## Opacity

Change the background opacity simply by setting the CSS variable `--post-bg-opacity`.

<div className="alert alert-info alert-md">
  Low background opacity is not recommended as it can lead to poor contrast.
  It is then your responsibility to ensure that the contrast ratio between foreground and background is at least 4.5:1.
  More information on that topic is available on our [accessibility docs](/?path=/docs/46da78e8-e83b-4ca1-aaf6-bbc662efef14--docs).
</div>

<Canvas of={BackgroundStories.TranslucentBackgrounds} sourceState='shown' />
