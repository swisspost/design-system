import { Canvas, Controls, Meta, Source } from '@storybook/blocks';
import * as IconStories from './icon.stories';
import { PostTabHeader, PostTabPanel, PostTabs } from '@swisspost/design-system-components-react';
import SampleMixin from './mixin.sample.scss?raw';
import { POST_ICONS_COUNT, UI_ICONS_COUNT, Search } from './search/search-icons.blocks';
import './icon.styles.scss';

<Meta of={IconStories} />

<div className="docs-title">
  # Icons

  <nav>
    <link-design of={JSON.stringify(IconStories)}></link-design>
  </nav>
</div>

<div className="lead">
  The official Swiss Post Icon Library with {Math.floor(POST_ICONS_COUNT / 10) * 10}+ high-quality svg icons and the brand new UI Icon Set, exclusively designed and provided for the web with {Math.floor(UI_ICONS_COUNT / 10) * 10}+ icons and responsive level-of-detail.
</div>

<PostTabs activePanel="search">
  <PostTabHeader panel="installation">Installation</PostTabHeader>
  <PostTabPanel name="installation">
    ## Installation

    ### Icon Component

    The `<post-icon>` element is part of the `@swisspost/design-system-components` package.
    For more information, read the [getting started with components guide](/?path=/docs/edfb619b-fda1-4570-bf25-20830303d483--docs).

    ### Icon SVGs

    The SVG files for icons should be hosted within your project.
    For guidelines on how to set this up, please refer to the [icon package documentation](/?path=/docs/40ed323b-9c1a-42ab-91ed-15f97f214608--docs#usage).
  </PostTabPanel>

  <PostTabHeader panel="component">Usage as Web-Component</PostTabHeader>
  <PostTabPanel name="component">
    ## Usage as Web-Component

    Our <code>&lt;post-icon&gt;</code> component renders SVGs, so it scales quickly and easily and can
    be styled with CSS.


    <Canvas sourceState="shown" of={IconStories.Default} />
    <Controls of={IconStories.Default} />

    ### UI Icons

    UI icons are responsive and can have a different level-of-detail, depending on how big they are rendered on the page.
    Use the resize handle in the example to see how the icon changes while you change its size.

    <Canvas sourceState="shown" of={IconStories.UI} />

    ### Color

    By default, icons inherit the current text color of their parent element.<br/>
    You can therefore colorize an icon by simply changing the `color` css property of the element itself.

    <Canvas of={IconStories.Color} sourceState="shown" />

    ### Size

    Icons have a default `width` of `1em`, which means they will scale with the size of the current `font-size` css property.

    <Canvas of={IconStories.Size} sourceState="shown" />

    ### Transformations

    The following examples are available by default only in the `<post-icon>` web-component. To do something similar with the CSS mixin, you would need to use the `transform` property or add your own css animations.

    #### Flipping

    Flip the icon horizontally and/or vertically with the `flip-h` and `flip-v` props.

    <Canvas of={IconStories.Flip} sourceState="shown" />

    #### Scaling

    Scale the icon by any positive factor via the `scale` prop. Note this changes the icon's visual size but not its physical font size. To illustrate this we have added a background color to the icons.

    <Canvas of={IconStories.Scale} sourceState="shown" />

    #### Rotating

    Rotate the icon by a number of degrees with the `rotate` prop. Positive values will rotate the icon clockwise, while negative values will rotate the icon counterclockwise.

    <Canvas of={IconStories.Rotate} sourceState="shown" />

    #### Animating

    The `post-icon` includes the following built-in animations for icons:

    - `cylon` slides the icon left and right
    - `cylon-vertical` slides the icon up and down
    - `spin` smoothly spins the icon clockwise
    - `spin-reverse` smoothly spins the icon counter-clockwise
    - `fade` fades the icon in and out
    - `throb` scales the icon in and out

    To use them, set the `animation` prop to one of the animation names above.

    <Canvas of={IconStories.Animate} sourceState="shown" />

  </PostTabPanel>

  <PostTabHeader panel="scss">Usage as CSS-Background</PostTabHeader>
  <PostTabPanel name="scss">
    ## Usage in CSS

    To define an icon in your own CSS, you need the `@swisspost/design-system-styles` package and use our `post-icon` mixin. The icons are responsive and can have a different level-of-detail, depending on how big they are rendered on the page.

    <p className="banner banner-info">The used classes in the examples below are only there for demonstration purposes.</p>
    
    ### Post Icons

    <Canvas of={IconStories.CSS_Default} sourceState="shown"/>

    ### UI Icons

    UI icons are responsive and can have a different level-of-detail, depending on how big they are rendered on the page. Use the resize handle in the example to see how the icon changes while you change its size.

    <Canvas of={IconStories.CSS_UI} sourceState="shown"/>

    ### Colors

    By default, icons inherit the current text color of their parent element.
    You can therefore colorize an icon by simply changing the `color` css property of the element itself.

    <Canvas of={IconStories.CSS_Color} sourceState="shown"/>

    ### Size

    Icons have a default `width` of `1em`, which means they will scale with the size of the current `font-size` css property.

    <Canvas of={IconStories.CSS_Size} sourceState="shown"/>

    ### Mixin usage

    <Source
      language="scss"
      dark
      code={SampleMixin}
    ></Source>

  </PostTabPanel>

  <PostTabHeader panel="search">Find your Icon</PostTabHeader>
  <PostTabPanel name="search">
    <Search />
  </PostTabPanel>
</PostTabs>
