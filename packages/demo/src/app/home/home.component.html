<div *ngIf="isIE11" class="container">
  <div class="alert alert-warning mt-3">
    <h4 class="alert-heading">IE11 not supported</h4>
    <p>
      This app uses Angular {{ getVersion(angularVersion, 'M') }} and therefore does not support
      IE11. Please update your browser.
    </p>
  </div>
</div>

<div class="heading container py-5">
  <h1 class="bold font-curve-large" id="home">Swiss Post</h1>
  <h2 class="font-curve-large">Design System</h2>
  <img
    class="heading-visual"
    src="assets/images/rocket.png"
    alt="A rocket flying to the moon, symbolising the awesomeness of the Swiss Post Design System"
  />
  <div class="monospace">
    <span placement="bottom" [ngbTooltip]="versions">v{{ version }}</span>
  </div>
</div>

<ng-template #versions>
  <div class="versions">
    <p>@swisspost/design-system-styles: {{ getVersion(stylesVersion) }}</p>
    <p>@angular/cli: {{ getVersion(angularVersion) }}</p>
    <p>bootstrap: {{ getVersion(bootstrapVersion) }}</p>
    <p>@ng-bootstrap/ng-bootstrap: {{ getVersion(ngBootstrapVersion) }}</p>
    <p>ngx-toastr: {{ getVersion(ngxToasterVersion) }}</p>
  </div>
</ng-template>

<div class="bg-light py-5">
  <div class="container">
    <h3 class="bold mb-4">Migration from v4 to v5</h3>

    <p class="lead">What kind of application are you migrating?</p>

    <div class="form-check form-switch">
      <input
        id="is-migrating-intranet"
        type="checkbox"
        class="form-check-input"
        [(ngModel)]="isMigratingIntranet"
        (ngModelChange)="setLocaleStorage(migrationTypeIntranetKey, isMigratingIntranet)"
        role="switch"
      />
      <label for="is-migrating-intranet" class="form-check-label">Intranet application</label>
    </div>
    <div class="form-check form-switch">
      <input
        id="is-migrating-angular"
        type="checkbox"
        class="form-check-input"
        [(ngModel)]="isMigratingAngular"
        (ngModelChange)="setLocaleStorage(migrationTypeAngularKey, isMigratingAngular)"
        role="switch"
      />
      <label for="is-migrating-angular" class="form-check-label">Angular application</label>
    </div>

    <ol class="bubble-tea">
      <li>
        <h4 class="h5 bold">Clean start üßπ</h4>
        <p>Create a branch and commit all changes to have a clean, reversible starting point.</p>
      </li>
      <li>
        <h4 class="h5 bold">Uninstall the old packages üóëÔ∏è</h4>
        <!-- prettier-ignore -->
        <p>Uninstall the old styles <span *ngIf="isMigratingIntranet">and the old intranet header</span> package<span *ngIf="isMigratingIntranet">s</span>.</p>
      </li>
      <li>
        <!-- prettier-ignore -->
        <h4 class="h5 bold">
          Install the new package<span *ngIf="isMigratingIntranet">s</span> üì¶
        </h4>
        <code
          class="d-block p-3"
          [languages]="['bash']"
          [highlight]="
            'npm install @swisspost/design-system-styles' +
            (isMigratingIntranet ? ' @swisspost/design-system-intranet-header' : '')
          "
        ></code>
      </li>
      <li *ngIf="isMigratingAngular">
        <h4 class="h5 bold">Automatic migration tool ‚öôÔ∏è</h4>
        <p>
          If you are migrating an Angular application, you can profit from our Migration Schematics.
          You can run the following code, to automatically patch the changes that can be
          auto-migrated:
        </p>
        <code
          class="d-block p-3"
          [languages]="['bash']"
          [highlight]="'npx run @swisspost/design-system-migrations'"
        ></code>
      </li>
      <li>
        <h4 class="h5 bold">Component migration ü§ì</h4>

        <h5 class="h6 bold">Deprecations</h5>
        <ul class="mt-2 mb-3">
          <li>
            <strong>Dropped jQuery dependancy</strong>
            <br />
            <p class="info">
              Replace all jQuery components with the given one or integrate jQuery by your self (not
              recommended).
            </p>
          </li>
          <li>
            The
            <span class="highlight">Custom-Select</span>
            component has been marked as
            <span class="highlight">deprecated</span>
            and will be dropped in the next major version.
            <p class="info">We will try to make sure that there will be an alternative.</p>
          </li>
        </ul>

        <h5 class="h6 bold">Migrations list</h5>
        <p>
          Some changes cannot be automatically migrated.
          <br />
          Check the list of changes to see if you are affected and apply the transformation
          manually.
        </p>
        <p class="info" *ngIf="isMigratingAngular">
          Changes flaged with ‚öôÔ∏è can be automatically migrated with our migration tool.
        </p>

        <!-- Post migration table -->
        <ngb-accordion
          [activeIds]="componentMigrationAccordionActiveIds"
          [destroyOnHide]="false"
          (panelChange)="componentMigrationAccordionChange($event)"
        >
          <ngb-panel id="general" title="General">
            <ng-template ngbPanelContent>
              <h5 class="h6 regular">Variables</h5>
              <ul class="list-unstyled my-3">
                <li>
                  <div class="form-check">
                    <input
                      id="variable_isolateComponents"
                      class="form-check-input"
                      type="checkbox"
                      [(ngModel)]="componentMigrationAccordionCheckboxes.variable_isolateComponents"
                      (change)="componentMigrationAccordionCheckboxesChange()"
                    />
                    <!-- prettier-ignore -->
                    <label class="form-check-label" for="variable_isolateComponents">
                        <span class="change-badge bg-danger">breaking</span> Removed <code>$isolate-components</code> variable.
                    </label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input
                      id="variable_fontSizeMap"
                      class="form-check-input"
                      type="checkbox"
                      [(ngModel)]="componentMigrationAccordionCheckboxes.variable_fontSizeMap"
                      (change)="componentMigrationAccordionCheckboxesChange()"
                    />
                    <!-- prettier-ignore -->
                    <label class="form-check-label" for="variable_fontSizeMap">
                      <span class="change-badge bg-danger">breaking</span> Removed <code>$font-size-map</code> variable.
                    </label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input
                      id="variable_features"
                      class="form-check-input"
                      type="checkbox"
                      [(ngModel)]="componentMigrationAccordionCheckboxes.variable_features"
                      (change)="componentMigrationAccordionCheckboxesChange()"
                    />
                    <!-- prettier-ignore -->
                    <label class="form-check-label" for="variable_features">
                      <span class="change-badge bg-danger">breaking</span> Moved bootstrap option-variables from <code>src/themes/bootstrap/options.scss</code> to <code>src/variables/features.scss</code>.<br>
                      Affected variables:
                      <ul class="mt-2">
                        <li><code>$enable-caret</code></li>
                        <li><code>$enable-rounded</code></li>
                        <li><code>$enable-shadows</code></li>
                        <li><code>$enable-gradients</code></li>
                        <li><code>$enable-transitions</code></li>
                        <li><code>$enable-hover-media-query</code></li>
                        <li><code>$enable-grid-classes</code></li>
                        <li><code>$variable-prefix</code></li>
                      </ul>
                    </label>
                  </div>
                </li>
                <li>
                  <div class="form-check">
                    <input
                      id="variable_floatingLabel"
                      class="form-check-input"
                      type="checkbox"
                      [(ngModel)]="componentMigrationAccordionCheckboxes.variable_floatingLabel"
                      (change)="componentMigrationAccordionCheckboxesChange()"
                    />
                    <!-- prettier-ignore -->
                    <label class="form-check-label" for="variable_floatingLabel">
                      <span class="change-badge bg-danger">breaking</span> Removed floating-label-variables:<br>
                      <ul class="mt-2">
                        <li><code>$form-floating-label-padding-t</code></li>
                        <li><code>$form-floating-label-padding-b</code></li>
                        <li><code>$form-floating-textarea-line-height</code></li>
                        <li><code>$form-floating-textarea-padding-t</code></li>
                        <li><code>$form-floating-textarea-padding-b</code></li>
                      </ul>
                    </label>
                  </div>
                </li>
              </ul>
              <h5 class="h6">Typo</h5>
              <h5 class="h6">Colors</h5>
            </ng-template>
          </ngb-panel>
          <ngb-panel id="bootstrap" title="Bootstrap">
            <ng-template ngbPanelContent>
              Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson
              ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck
              quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on
              it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh
              helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan
              excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim
              aesthetic synth nesciunt you probably haven't heard of them accusamus labore
              sustainable VHS.
            </ng-template>
          </ngb-panel>
          <ngb-panel *ngIf="isMigratingAngular" id="ngbootstrap" title="Ng-bootstrap">
            <ng-template ngbPanelContent>
              Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson
              ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck
              quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on
              it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh
              helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan
              excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim
              aesthetic synth nesciunt you probably haven't heard of them accusamus labore
              sustainable VHS.
            </ng-template>
          </ngb-panel>
          <ngb-panel id="post" title="Post specific">
            <ng-template ngbPanelContent>
              Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson
              ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck
              quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on
              it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh
              helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan
              excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim
              aesthetic synth nesciunt you probably haven't heard of them accusamus labore
              sustainable VHS.
            </ng-template>
          </ngb-panel>
        </ngb-accordion>
      </li>
      <li>
        <h4 class="h5 bold">Bootstrap migration ü•æ</h4>
        <p>
          Check the
          <a href="https://getbootstrap.com/docs/5.0/migration/" target="_blank">
            bootstrap migration guide
          </a>
          to see if you need to update any bootstrap related code.
        </p>
      </li>
      <li>
        <h4 class="h5 bold">Treat yourself to a üç∫, you've done a great job! üöÄ</h4>
      </li>
    </ol>
  </div>
</div>

<div class="topic-teaser bg-nightblue mt-huge-r mb-giant-r">
  <div class="container">
    <div class="topic-teaser-container bg-nightblue">
      <div class="row pt-huge-r">
        <div class="topic-teaser-content col-12 col-lg-8">
          <h2 class="topic-teaser-title font-curve-large mb-large">
            <span class="bold">Resources</span>
            <span class="light">For a consistent user experience</span>
          </h2>
          <ul class="link-list font-curve-regular mb-large">
            <li class="link-list-item">
              <a
                target="_blank"
                rel="noopener"
                [href]="'//getbootstrap.com/docs/' + getVersion(bootstrapVersion, 'Mm')"
              >
                <span>Bootstrap Documentation</span>
              </a>
            </li>
            <li class="link-list-item">
              <a
                target="_blank"
                rel="noopener"
                [href]="'//v' + getVersion(angularVersion, 'M') + '.angular.io/docs'"
              >
                <span>Angular Docs</span>
              </a>
            </li>
            <li class="link-list-item">
              <!-- exact link is not possible, because the latest url is different from the previews -->
              <a target="_blank" rel="noopener" href="https://ng-bootstrap.github.io/#/home">
                <span>ngBootstrap Docs</span>
              </a>
            </li>
            <li class="link-list-item">
              <!-- exact link is not possible, because no version urls available -->
              <a target="_blank" rel="noopener" href="https://fonts.post.ch/frutigerneueforpost/#/">
                <span>Frutiger Neue For Post</span>
              </a>
            </li>
          </ul>
        </div>
        <div class="topic-teaser-image-container col-10 col-rg-8 col-lg-4">
          <img class="topic-teaser-image" src="assets/images/lego.jpg" alt="Giraffe" />
        </div>
      </div>
    </div>
  </div>
</div>
