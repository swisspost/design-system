@use '@swisspost/design-system-styles/core' as post;

:host {
  display: inline-block;
}

.rating {
  margin: 0 (-(post.$size-micro));
  display: flex;
  flex-wrap: wrap;
  box-sizing: border-box;
  overflow: hidden;
  & :focus {
    outline: none;
  }
  &[aria-readonly='true'] .star-container {
    cursor: default;
  }
}

.rating:focus-visible {
  outline-offset: post.$input-focus-outline-thickness;
  outline: post.$input-focus-outline-thickness solid post.$outline-color;
  position: relative;
  z-index: 1;
}

.star {
  position: relative;
  display: block;
  width: post.$lead-font-size;
  height: post.$lead-font-size;
  padding: 0 post.$size-micro 0 post.$size-micro;
  cursor: pointer;
  --post-rating-star-fill-color: #{post.$white};
  --post-rating-star-border-color: #{post.$black};

  .fill {
    position: absolute;
    color: var(--post-rating-star-fill-color);
  }

  .border {
    width: post.$lead-font-size + 0.125em;
    height: post.$lead-font-size + 0.125em;
    position: absolute;
    top: -0.0625em;
    left: post.$size-micro - post.to-rem(0.0625em);
    color: var(--post-rating-star-border-color);
  }

  &.active-star {
    --post-rating-star-fill-color: #{post.$yellow};
    --post-rating-star-border-color: #{post.$black};
  }

  &.hovered-star {
    --post-rating-star-fill-color: #{post.$yellow};
    --post-rating-star-border-color: #{post.$gray-80};
  }

  &.was-active-star {
    --post-rating-star-fill-color: #{post.$gray-20};
    --post-rating-star-border-color: #{post.$gray-80};
  }

  &.default-disabled {
    cursor: default;
    --post-rating-star-fill-color: #{post.$white};
    --post-rating-star-border-color: #{post.$gray-40};
  }

  &.active-disabled {
    cursor: default;
    --post-rating-star-fill-color: #{post.$gray-10};
    --post-rating-star-border-color: #{post.$gray-40};
  }
}
