@forward './../variables/options';

@use 'sass:list';

@use './../themes/bootstrap/core' as *;

@use './../mixins/notification' as notification-mx;
@use './../placeholders/close' as close-ph;

@use './../variables/commons';
@use './../variables/spacing';
@use './../variables/components/notification';
@use './../tokens/components';
@use './../functions/tokens';

tokens.$default-map: components.$post-banner;

.toast {
  $default-variant: list.nth(notification.$notification-variants, 1);
  @include notification-mx.notification-size(toast);
  @include notification-mx.notification-body(toast);

  // Set the neutral toast as the default color
  @include notification-mx.notification-variant(
    list.nth($default-variant, 2),
    list.nth($default-variant, 3),
    list.nth($default-variant, 4),
    list.nth($default-variant, 5),
    list.nth($default-variant, 6)
  );
}

.toast-dismissible {
  @include notification-mx.notification-dismissible(toast, 'toast-close-button');
}

.toast-close-button {
  @extend %btn-close;

  // Hide ngx-toastr close-button and keep our. Only useful when toast is used programmatically with ngx-toastr.
  > span {
    display: none;
  }
}

@each $name, $color, $icon, $border-color, $icon-color,
  $scheme in notification.$notification-variants
{
  .toast-#{$name} {
    @include notification-mx.notification-variant(
      $color,
      $icon,
      $border-color,
      $icon-color,
      $scheme
    );
  }
}

// Positioning
.toast-container {
  position: fixed;
  z-index: commons.$zindex-alert;
  display: flex;
  flex-direction: column;
  pointer-events: none;

  .toast {
    width: 25rem;
  }

  @include media-breakpoint-down(md) {
    .toast {
      max-width: 25rem;
    }
  }

  @include media-breakpoint-down(md) {
    right: spacing.$spacer;
    left: spacing.$spacer;

    .toast {
      width: 100%;
    }
  }
}

.toast-top-center,
.toast-top-full-width,
.toast-top-left,
.toast-top-right {
  top: spacing.$spacer;
}

.toast-bottom-center,
.toast-bottom-full-width,
.toast-bottom-right,
.toast-bottom-left {
  bottom: spacing.$spacer;
}

.toast-top-left,
.toast-bottom-left,
.toast-top-full-width,
.toast-bottom-full-width,
.toast-center-left {
  left: spacing.$spacer;
}

.toast-top-right,
.toast-bottom-right,
.toast-top-full-width,
.toast-bottom-full-width,
.toast-center-right {
  right: spacing.$spacer;
}

.toast-top-center,
.toast-bottom-center {
  left: 50%;
  transform: translateX(-50%);
}

.toast-center-left,
.toast-center-right {
  top: 50%;
  transform: translateY(-50%);
}

.toast-center-center {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.toast-top-full-width,
.toast-bottom-full-width {
  .toast {
    width: 100% !important;
  }
}
