<h1 class="visually-hidden">PrimeNG data table showcase</h1>

<div
  class="sticky-top border-bottom d-flex align-items-center justify-content-between py-regular mb-huge"
  [class.bg-white]="!hasDarkBackground"
  [class.bg-dark]="hasDarkBackground"
>
  <div class="form-check form-switch">
    <input
      class="form-check-input"
      type="checkbox"
      role="switch"
      id="bakgroundSwitch"
      [(ngModel)]="hasDarkBackground"
    />
    <label class="form-check-label" for="bakgroundSwitch">Dark background</label>
  </div>

  <fieldset class="btn-group" aria-label="Basic datatable style">
    <input
      type="radio"
      class="btn-check"
      name="basicDatatableStyle"
      [(ngModel)]="datatableStyleClass"
      value=""
      id="default"
    />
    <label class="btn btn-md btn-secondary" for="default">Default</label>

    <input
      type="radio"
      class="btn-check"
      name="basicDatatableStyle"
      [(ngModel)]="datatableStyleClass"
      value="striped"
      id="striped"
    />
    <label class="btn btn-md btn-secondary" for="striped">Striped</label>

    <input
      type="radio"
      class="btn-check"
      name="basicDatatableStyle"
      [(ngModel)]="datatableStyleClass"
      value="gridlines"
      id="gridlines"
    />
    <label class="btn btn-md btn-secondary" for="gridlines">Gridelines</label>
  </fieldset>
</div>

<h2 class="h4">Sortable</h2>
<p-table
  [value]="productsSortable"
  [stripedRows]="datatableStyleClass === 'striped'"
  [showGridlines]="datatableStyleClass === 'gridlines'"
  sortMode="multiple"
>
  <ng-template pTemplate="header">
    <tr>
      <th scope="col" pSortableColumn="code" style="width: 20%">
        Code <p-sortIcon field="code"></p-sortIcon>
      </th>
      <th scope="col" pSortableColumn="name" style="width: 20%">
        Name <p-sortIcon field="name"></p-sortIcon>
      </th>
      <th scope="col" pSortableColumn="category" style="width: 20%">
        Category <p-sortIcon field="category"></p-sortIcon>
      </th>
      <th scope="col" pSortableColumn="quantity" style="width: 20%">
        Quantity <p-sortIcon field="quantity"></p-sortIcon>
      </th>
      <th scope="col" pSortableColumn="price" style="width: 20%">
        Price <p-sortIcon field="price"></p-sortIcon>
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-product>
    <tr>
      <td>{{ product.code }}</td>
      <td>{{ product.name }}</td>
      <td>{{ product.category }}</td>
      <td>{{ product.quantity }}</td>
      <td>{{ product.price | currency : 'USD' }}</td>
    </tr>
  </ng-template>
</p-table>

<hr class="my-huge" />

<h2 class="h4">Filterable</h2>
<p-table
  [value]="productsFilterable"
  dataKey="id"
  [stripedRows]="datatableStyleClass === 'striped'"
  [showGridlines]="datatableStyleClass === 'gridlines'"
  [rows]="5"
  [showCurrentPageReport]="true"
  [rowsPerPageOptions]="[5, 10]"
  [paginator]="true"
  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
  [globalFilterFields]="['code', 'name', 'category']"
>
  <ng-template pTemplate="header">
    <tr>
      <th scope="col" style="min-width: 15rem">
        <div class="d-flex align-items-center">
          Code
          <p-columnFilter type="text" field="code" display="menu"></p-columnFilter>
        </div>
      </th>
      <th scope="col" style="min-width: 15rem">
        <div class="d-flex align-items-center">
          Name
          <p-columnFilter type="text" field="name" display="menu"></p-columnFilter>
        </div>
      </th>
      <th scope="col" style="min-width: 15rem">
        <div class="d-flex align-items-center">
          Category
          <p-columnFilter type="text" field="category" display="menu"></p-columnFilter>
        </div>
      </th>
      <th scope="col" style="min-width: 15rem">
        <div class="flex align-items-center">Quantity</div>
      </th>
      <th scope="col" style="min-width: 10rem">
        <div class="flex align-items-center">Price</div>
      </th>
      <th scope="col" style="min-width: 10rem">
        <div class="flex align-items-center">
          Date
          <p-columnFilter type="date" field="date" display="menu"></p-columnFilter>
        </div>
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-product>
    <tr>
      <td>{{ product.code }}</td>
      <td>{{ product.name }}</td>
      <td>{{ product.category }}</td>
      <td>{{ product.quantity }}</td>
      <td>{{ product.price | currency : 'USD' }}</td>
      <td>{{ product.date | date : 'MM/dd/yyyy' }}</td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="5">No products found.</td>
    </tr>
  </ng-template>
</p-table>

<hr class="my-huge" />

<h2 class="h4">Orderable</h2>
<p-table
  [value]="productsOrderable"
  [columns]="columnsOrderable"
  [reorderableColumns]="true"
  [stripedRows]="datatableStyleClass === 'striped'"
  [showGridlines]="datatableStyleClass === 'gridlines'"
>
  <ng-template #header let-columns>
    <tr>
      <th scope="col" style="width: 3rem"></th>
      <th scope="col" *@for="let col of columns" pReorderableColumn>
        {{ col.header }}
      </th>
    </tr>
  </ng-template>
  <ng-template #body let-rowData let-columns="columns" let-index="rowIndex">
    <tr [pReorderableRow]="index">
      <td>
        <span pReorderableRowHandle></span>
      </td>
      <td *@for="let col of columns">
        {{ rowData[col.field] }}
      </td>
    </tr>
  </ng-template>
</p-table>

<hr class="my-huge" />

<h2 class="h4">Selectable</h2>
<p-table
  [value]="productsSelectable"
  selectionMode="multiple"
  dataKey="code"
  [stripedRows]="datatableStyleClass === 'striped'"
  [showGridlines]="datatableStyleClass === 'gridlines'"
  [metaKeySelection]="true"
  (selectionChange)="setSelectedProductsSelectable($event)"
>
  <ng-template #caption>Multiple Selection with MetaKey</ng-template>
  <ng-template #header>
    <tr>
      <th scope="col">Code</th>
      <th scope="col">Name</th>
      <th scope="col">Category</th>
      <th scope="col">Quantity</th>
    </tr>
  </ng-template>
  <ng-template #body let-product let-rowIndex="rowIndex">
    <tr [pSelectableRow]="product" [pSelectableRowIndex]="rowIndex">
      <td>{{ product.code }}</td>
      <td>{{ product.name }}</td>
      <td>{{ product.category }}</td>
      <td>{{ product.quantity }}</td>
    </tr>
  </ng-template>
  <ng-template #summary> Selected: {{ selectedProductsSelectable | lowercase }}. </ng-template>
</p-table>

<hr class="my-huge" />

<h2 class="h4">With Checkboxes</h2>
<p-table [value]="productsCheckboxes" [(selection)]="selectedProductsCheckboxes" dataKey="code">
  <ng-template #header>
    <tr>
      <th scope="col" style="width: 4rem">
        <p-tableHeaderCheckbox />
      </th>
      <th scope="col">Code</th>
      <th scope="col">Name</th>
      <th scope="col">Category</th>
      <th scope="col">Quantity</th>
    </tr>
  </ng-template>
  <ng-template #body let-product>
    <tr>
      <td>
        <p-tableCheckbox [value]="product" />
      </td>
      <td>{{ product.code }}</td>
      <td>{{ product.name }}</td>
      <td>{{ product.category }}</td>
      <td>{{ product.quantity }}</td>
    </tr>
  </ng-template>
</p-table>

<hr class="my-huge" />

<h2 class="h4">With Radio buttons</h2>
<p-table
  [value]="productsRadioButtons"
  [(selection)]="selectedProductsRadioButtons"
  dataKey="code"
  [stripedRows]="datatableStyleClass === 'striped'"
  [showGridlines]="datatableStyleClass === 'gridlines'"
>
  <ng-template #header>
    <tr>
      <th scope="col" style="width: 4rem"></th>
      <th scope="col">Code</th>
      <th scope="col">Name</th>
      <th scope="col">Category</th>
      <th scope="col">Quantity</th>
    </tr>
  </ng-template>
  <ng-template #body let-product>
    <tr>
      <td>
        <p-tableRadioButton [value]="product" />
      </td>
      <td>{{ product.code }}</td>
      <td>{{ product.name }}</td>
      <td>{{ product.category }}</td>
      <td>{{ product.quantity }}</td>
    </tr>
  </ng-template>
</p-table>
