{"ast":null,"code":"import { LOCALE_ID, SecurityContext } from '@angular/core';\nimport { NavigationStart } from '@angular/router';\nimport { Subject, fromEvent } from 'rxjs';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport { userImage } from './user';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/platform-browser\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nconst _c0 = [\"domWrapper\"];\nconst _c1 = [\"optionDropdown\"];\nfunction SwissPostIntranetHeaderComponent_section_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 2);\n    i0.ɵɵelementContainer(1, 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r1);\n  }\n}\nfunction SwissPostIntranetHeaderComponent_ng_template_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"form\", 30)(2, \"div\", 31);\n    i0.ɵɵelement(3, \"input\", 32);\n    i0.ɵɵelementStart(4, \"div\", 33)(5, \"button\", 34)(6, \"span\");\n    i0.ɵɵelement(7, \"em\", 35);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"action\", ctx_r4.searchUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", ctx_r4.getPlaceholderSearchIntranet());\n  }\n}\nfunction SwissPostIntranetHeaderComponent_ng_template_1_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"div\", 37)(2, \"div\", 38)(3, \"div\", null, 39);\n    i0.ɵɵelementContainer(5, 25);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const _r14 = i0.ɵɵreference(4);\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r5.optionHeaderContent)(\"ngTemplateOutletContext\", _r14);\n  }\n}\nfunction SwissPostIntranetHeaderComponent_ng_template_1_ng_container_19_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function SwissPostIntranetHeaderComponent_ng_template_1_ng_container_19_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const appLang_r15 = i0.ɵɵnextContext().$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.handleLanguageChange(appLang_r15));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const appLang_r15 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", appLang_r15.toUpperCase(), \" \");\n  }\n}\nfunction SwissPostIntranetHeaderComponent_ng_template_1_ng_container_19_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const appLang_r15 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", appLang_r15.toUpperCase(), \" \");\n  }\n}\nfunction SwissPostIntranetHeaderComponent_ng_template_1_ng_container_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, SwissPostIntranetHeaderComponent_ng_template_1_ng_container_19_button_1_Template, 2, 1, \"button\", 40);\n    i0.ɵɵtemplate(2, SwissPostIntranetHeaderComponent_ng_template_1_ng_container_19_div_2_Template, 2, 1, \"div\", 41);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const appLang_r15 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.isLanguageActive(appLang_r15));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.isLanguageActive(appLang_r15));\n  }\n}\nfunction SwissPostIntranetHeaderComponent_ng_template_1_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.currentUserId, \" \");\n  }\n}\nfunction SwissPostIntranetHeaderComponent_ng_template_1_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.displayName, \" \");\n  }\n}\nfunction SwissPostIntranetHeaderComponent_ng_template_1_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.additionalInfo, \" \");\n  }\n}\nfunction SwissPostIntranetHeaderComponent_ng_template_1_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵlistener(\"click\", function SwissPostIntranetHeaderComponent_ng_template_1_div_25_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.toggleMenu());\n    });\n    i0.ɵɵelement(1, \"em\", 46);\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"d-none\": a0\n  };\n};\nfunction SwissPostIntranetHeaderComponent_ng_template_1_nav_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nav\", 47)(1, \"div\", 48)(2, \"ul\", 49);\n    i0.ɵɵprojection(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c2, !ctx_r12.openedMenu));\n  }\n}\nfunction SwissPostIntranetHeaderComponent_ng_template_1_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50)(1, \"form\", 30)(2, \"div\", 31);\n    i0.ɵɵelement(3, \"input\", 32);\n    i0.ɵɵelementStart(4, \"div\", 33)(5, \"button\", 34)(6, \"span\");\n    i0.ɵɵelement(7, \"em\", 35);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"action\", ctx_r13.searchUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", ctx_r13.getPlaceholderSearchIntranet());\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    \"ms-auto\": a0\n  };\n};\nconst _c4 = function (a0) {\n  return {\n    dropdownRef: a0\n  };\n};\nfunction SwissPostIntranetHeaderComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"header\", 4, 5)(2, \"div\", 6)(3, \"div\", 7)(4, \"div\", 8)(5, \"div\", 9);\n    i0.ɵɵelement(6, \"a\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 11)(8, \"h2\", 12);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, SwissPostIntranetHeaderComponent_ng_template_1_div_10_Template, 8, 2, \"div\", 13);\n    i0.ɵɵtemplate(11, SwissPostIntranetHeaderComponent_ng_template_1_div_11_Template, 6, 2, \"div\", 14);\n    i0.ɵɵelementStart(12, \"div\", 15)(13, \"div\", 16, 17)(15, \"div\", 18);\n    i0.ɵɵelement(16, \"img\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 20)(18, \"div\", 21);\n    i0.ɵɵtemplate(19, SwissPostIntranetHeaderComponent_ng_template_1_ng_container_19_Template, 3, 2, \"ng-container\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 23);\n    i0.ɵɵlistener(\"click\", function SwissPostIntranetHeaderComponent_ng_template_1_Template_div_click_20_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.optionDropdownClick($event));\n    });\n    i0.ɵɵtemplate(21, SwissPostIntranetHeaderComponent_ng_template_1_div_21_Template, 2, 1, \"div\", 24);\n    i0.ɵɵtemplate(22, SwissPostIntranetHeaderComponent_ng_template_1_div_22_Template, 2, 1, \"div\", 24);\n    i0.ɵɵtemplate(23, SwissPostIntranetHeaderComponent_ng_template_1_div_23_Template, 2, 1, \"div\", 24);\n    i0.ɵɵelementContainer(24, 25);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(25, SwissPostIntranetHeaderComponent_ng_template_1_div_25_Template, 2, 0, \"div\", 26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(26, SwissPostIntranetHeaderComponent_ng_template_1_nav_26_Template, 4, 3, \"nav\", 27);\n    i0.ɵɵtemplate(27, SwissPostIntranetHeaderComponent_ng_template_1_div_27_Template, 8, 2, \"div\", 28);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const _r6 = i0.ɵɵreference(14);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"href\", ctx_r2.logoUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.siteTitle);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showIntranetSearch);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.optionHeaderContent);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c3, !ctx_r2.optionHeaderContent));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", ctx_r2.avatarUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.appLangs);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.currentUserId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.displayName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.additionalInfo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r2.optionDropdownContent)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(17, _c4, _r6));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.hasNavbar === true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.hasNavbar === true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showIntranetSearch);\n  }\n}\nconst _c5 = [\"*\"];\nexport class SwissPostIntranetHeaderComponent {\n  constructor(lang, router, zone, domSanitizer) {\n    this.lang = lang;\n    this.router = router;\n    this.zone = zone;\n    this.domSanitizer = domSanitizer;\n    this.siteTitle = '';\n    this.languages = 'de,fr,it,en';\n    this.isPreview = false;\n    this.currentUserId = '';\n    this.displayName = '';\n    this.additionalInfo = '';\n    this.hasNavbar = true;\n    this.showIntranetSearch = false;\n    this.logoUrl = '';\n    this.searchUrl = '';\n    this.avatarUrl = this.createSafeAvatarUrl();\n    this.openedMenu = false;\n    this.openedLangChooser = false;\n    this.openedMenuOverflow = false;\n    this.localization = {\n      moreLabel: {\n        de: 'Mehr',\n        fr: 'Plus',\n        it: 'Più',\n        en: 'More'\n      },\n      searchPlaceholder: {\n        de: 'Intranet durchsuchen',\n        fr: \"Parcourir l'Intranet\",\n        it: 'Cercare in intranet',\n        en: 'Browse the intranet'\n      }\n    };\n    this.windowResize$ = new Subject();\n    this.router.events.subscribe(e => {\n      if (e instanceof NavigationStart) {\n        if (this.openedMenuOverflow) {\n          this.hideMenuOverflow();\n        }\n        this.openedMenu = false;\n        this.openedLangChooser = false;\n      }\n    });\n    // use rxjs instead of HostListener to enable usage of debounce operator (see https://stackoverflow.com/a/44055389)\n    // => drastically improves performance of component!\n    this.windowResize$.subscribe(() => {\n      this.navigationResize();\n    });\n    this.zone.runOutsideAngular(() => {\n      fromEvent(window, 'resize').pipe(debounceTime(50), distinctUntilChanged()).subscribe(e => {\n        this.zone.run(() => {\n          this.windowResize$.next(e);\n        });\n      });\n    });\n  }\n  get overflowItems() {\n    return this.navItems.filter(el => el.classList.contains('nav-overflow'));\n  }\n  ngOnInit() {\n    this.appLangs = this.languages.split(',');\n    this.setLang(this.lang);\n    const tempArr = RegExp(/lang=([a-zA-Z]{2})/).exec(location.href);\n    if (tempArr && tempArr.length > 1) {\n      this.setLang(tempArr[1]);\n    }\n  }\n  ngOnChanges(changes) {\n    if (changes['currentUserId']) {\n      this.avatarUrl = this.createSafeAvatarUrl();\n    }\n  }\n  ngAfterViewInit() {\n    // this check is needed, because it would add another element when a link from within \"#overflow\" is clicked\n    if (this.dom.nativeElement.querySelector('#more') == null) {\n      const extensionElement = `<li tabindex=\"0\" class=\"nav-item${this.openedMenuOverflow ? '' : ' hidden'}\" id=\"more\">\n                                    <span class=\"nav-link col-auto py-3 px-4\"></span>\n                                </li>`;\n      this.navElement = this.dom.nativeElement.querySelector('#nav');\n      if (this.navElement == null) {\n        return;\n      }\n      this.navItems = Array.from(this.navElement.querySelectorAll('.nav-item'));\n      this.navElement.insertAdjacentHTML('beforeend', extensionElement);\n      this.moreElement = this.dom.nativeElement.querySelector('#more');\n      const toggleElement = this.moreElement.getElementsByTagName('span')[0];\n      toggleElement.addEventListener('click', () => this.toggleMenuOverflow());\n      this.moreElement.addEventListener('keydown', e => this.handleOverflowKeyEvent(e));\n      this.updateMoreElementText();\n      this.navigationResize();\n      if (!MutationObserver) {\n        return;\n      }\n      this.navChanges = new MutationObserver(m => this.navMutationCallback(m));\n      this.navChanges.observe(this.navElement, {\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n  navMutationCallback(mutationList) {\n    if (mutationList.some(mutation => mutation.type === 'childList')) {\n      // Resize the navbar anytime an nav item is added or removed\n      const navItems = Array.from(this.navElement.querySelectorAll('.nav-item:not(#more)'));\n      if (navItems.length !== this.navItems.length) {\n        this.navItems = navItems;\n        this.navigationResize();\n      }\n    } else {\n      // Resize the navbar anytime the text of a nav item changes\n      const textNodeType = 3;\n      if (mutationList.some(mutation => mutation.type === 'characterData' && mutation.target.nodeType === textNodeType)) {\n        this.navigationResize();\n      }\n    }\n  }\n  handleLanguageChange(lang) {\n    if (lang !== this.lang) {\n      const sanitizedLocationUrl = this.domSanitizer.sanitize(SecurityContext.URL, location.href);\n      this.setLang(lang);\n      if (!sanitizedLocationUrl) {\n        return;\n      }\n      const currentLoc = sanitizedLocationUrl;\n      if (RegExp(/lang=[a-zA-Z]+/).exec(currentLoc)) {\n        // lang paramter is already present in url\n        location.href = currentLoc.replace(/lang=[a-zA-Z]{2}/, `lang=${lang}`);\n      } else {\n        // add lang parameter, handle case when a query string is already present or not\n        location.href = currentLoc + (currentLoc.indexOf('?') < 0 ? '?' : '&') + `lang=${lang}`;\n      }\n    }\n  }\n  setLang(value) {\n    if (this.appLangs.indexOf(value) >= 0) {\n      this.lang = value;\n    } else {\n      this.lang = this.appLangs[0];\n    }\n    if (this.dom != null) {\n      this.updateMoreElementText();\n    }\n  }\n  toggleMenu() {\n    this.openedMenu = !this.openedMenu;\n  }\n  toggleMenuOverflow(doOpenMenu = !this.openedMenuOverflow) {\n    if (!this.moreElement) {\n      return;\n    }\n    this.openedMenuOverflow = doOpenMenu;\n    if (this.openedMenuOverflow) {\n      this.moreElement.classList.remove('hidden');\n      this.overflowItems.forEach(el => el.style.display = '');\n    } else {\n      this.moreElement.classList.add('hidden');\n      this.overflowItems.forEach(el => el.style.display = 'none');\n    }\n  }\n  hideMenuOverflow() {\n    this.toggleMenuOverflow(false);\n  }\n  handleOverflowKeyEvent(e) {\n    if (e.code === 'Enter' || e.code === 'Space') {\n      this.toggleMenuOverflow();\n    }\n  }\n  // Close dropdown on link clicks https://github.com/swisspost/design-system/issues/1300\n  optionDropdownClick(event) {\n    const target = event.target;\n    if (target.tagName.toLowerCase() === 'a') {\n      this.optionDropdown.close();\n    }\n  }\n  navigationResize() {\n    const navItems = [];\n    if (this.moreElement == null) {\n      return;\n    }\n    // Hide overflow items\n    this.toggleMenuOverflow(false);\n    // Reset all the nav items\n    this.navItems.forEach((el, index) => {\n      el.classList.remove('nav-overflow');\n      el.style.transform = '';\n      el.style.width = '';\n      el.style.display = '';\n      navItems[index] = el;\n    });\n    // Get the total width of the nav items\n    const listMargin = 40;\n    const navItemWidth = navItems.reduce((acc, el) => acc + el.scrollWidth, listMargin);\n    // Get document width\n    const documentWidth = document.documentElement.scrollWidth;\n    // Display the more element if necessary, hide it otherwise\n    this.moreElement.style.display = navItemWidth > documentWidth ? '' : 'none';\n    // If the navbar is too wide, turn the nav items into overflow items one by one\n    if (navItemWidth > documentWidth) {\n      let navWidth = navItemWidth + this.moreElement.scrollWidth;\n      let lastNavItem;\n      let greaterWidth = 0;\n      while (navWidth > documentWidth) {\n        lastNavItem = navItems[navItems.length - 1];\n        if (lastNavItem === undefined) {\n          break;\n        }\n        lastNavItem.classList.add('nav-overflow');\n        const lastNavItemWidth = lastNavItem.getBoundingClientRect().width;\n        if (lastNavItemWidth > greaterWidth) {\n          greaterWidth = Math.ceil(lastNavItemWidth);\n        }\n        navWidth -= lastNavItemWidth;\n        navItems.pop();\n      }\n      // Move the \"More\" element before the overflow items\n      this.navElement.insertBefore(this.moreElement, lastNavItem);\n      // Adjust the overflow items\n      this.overflowItems.forEach((el, index) => {\n        el.style.transform = `translateY(${index * 100}%)`;\n        el.style.width = `${greaterWidth}px`;\n        el.style.display = 'none';\n      });\n    }\n  }\n  getPlaceholderSearchIntranet() {\n    return this.localization['searchPlaceholder'][this.lang.toLowerCase()];\n  }\n  isLanguageActive(lang) {\n    return this.lang.toLowerCase() === lang.toLowerCase();\n  }\n  createSafeAvatarUrl() {\n    return this.currentUserId === null ? userImage : `https://web.post.ch/UserProfileImage/${encodeURIComponent(this.currentUserId)}.png`;\n  }\n  updateMoreElementText() {\n    const languageField = this.dom.nativeElement.querySelector('#more > span');\n    // when no navigation bar is displayed theres no 'more' element\n    if (!languageField) {\n      return;\n    }\n    languageField.innerText = this.getTextForMoreElement();\n  }\n  getTextForMoreElement() {\n    return this.localization['moreLabel'][this.lang.toLowerCase()];\n  }\n  static {\n    this.ɵfac = function SwissPostIntranetHeaderComponent_Factory(t) {\n      return new (t || SwissPostIntranetHeaderComponent)(i0.ɵɵdirectiveInject(LOCALE_ID), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i2.DomSanitizer));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SwissPostIntranetHeaderComponent,\n      selectors: [[\"sp-intranet-header\"]],\n      viewQuery: function SwissPostIntranetHeaderComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dom = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.optionDropdown = _t.first);\n        }\n      },\n      inputs: {\n        siteTitle: \"siteTitle\",\n        languages: \"languages\",\n        isPreview: \"isPreview\",\n        currentUserId: \"currentUserId\",\n        displayName: \"displayName\",\n        additionalInfo: \"additionalInfo\",\n        hasNavbar: \"hasNavbar\",\n        showIntranetSearch: \"showIntranetSearch\",\n        optionDropdownContent: \"optionDropdownContent\",\n        optionHeaderContent: \"optionHeaderContent\",\n        logoUrl: \"logoUrl\",\n        searchUrl: \"searchUrl\"\n      },\n      features: [i0.ɵɵNgOnChangesFeature],\n      ngContentSelectors: _c5,\n      decls: 3,\n      vars: 2,\n      consts: [[\"class\", \"layout-container preview\", 4, \"ngIf\", \"ngIfElse\"], [\"intranetHeader\", \"\"], [1, \"layout-container\", \"preview\"], [3, \"ngTemplateOutlet\"], [1, \"navbar\", \"navbar-expand-md\", \"flex-md-nowrap\", \"p-0\"], [\"domWrapper\", \"\"], [1, \"nav-down\"], [1, \"intranet-header\"], [1, \"d-flex\", \"align-items-center\", \"flex-nowrap\"], [1, \"bg-logo\", \"d-sm-block\"], [1, \"navbar-brand\", \"header-logo\", 3, \"href\"], [1, \"title\", \"flex-shrink-1\", \"px-4\"], [1, \"m-0\", \"font-weight-bold\"], [\"class\", \"col search-textbox d-none d-md-block\", 4, \"ngIf\"], [\"class\", \"settings ms-auto flex-shrink-0 d-flex align-self-stretch\", 4, \"ngIf\"], [1, \"settings\", \"flex-shrink-0\", \"d-flex\", \"align-self-stretch\", 3, \"ngClass\"], [\"ngbDropdown\", \"\", \"autoClose\", \"outside\", \"display\", \"dynamic\", \"container\", \"body\", \"placement\", \"bottom-right\", 1, \"align-self-stretch\", \"d-flex\"], [\"optionDropdown\", \"ngbDropdown\"], [\"id\", \"profileMenu\", \"ngbDropdownToggle\", \"\", 1, \"d-flex\", \"justify-content-center\", \"align-self-stretch\", \"px-3\", \"no-toggle-arrow\"], [\"alt\", \"\", 1, \"profile-image\", \"align-self-center\", 3, \"src\"], [\"id\", \"languageParent\", \"ngbDropdownMenu\", \"\", 1, \"dropdown-menu\"], [1, \"language-menu\"], [4, \"ngFor\", \"ngForOf\"], [1, \"other-items\", 3, \"click\"], [\"class\", \"dropdown-item\", 4, \"ngIf\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"id\", \"nav-toggler\", \"class\", \"navbar-toggler px-3 d-md-none align-self-stretch d-inline-flex align-items-center\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"row justify-content-center top-navigation m-0 d-md-flex\", 3, \"ngClass\", 4, \"ngIf\"], [\"class\", \"search-textbox d-md-none\", 4, \"ngIf\"], [1, \"col\", \"search-textbox\", \"d-none\", \"d-md-block\"], [3, \"action\"], [1, \"input-group\", \"mx-auto\"], [\"type\", \"text\", \"name\", \"k\", 1, \"form-control\", 3, \"placeholder\"], [1, \"input-group-append\", \"d-flex\", \"align-items-center\"], [\"type\", \"submit\", 1, \"btn\", \"pr-4\"], [1, \"pi\", \"pi-2069\"], [1, \"settings\", \"ms-auto\", \"flex-shrink-0\", \"d-flex\", \"align-self-stretch\"], [\"display\", \"dynamic\", \"container\", \"body\", 1, \"align-self-stretch\", \"d-flex\"], [1, \"align-self-center\", \"p-3\"], [\"headerExtraContent\", \"\"], [\"type\", \"button\", \"class\", \"btn btn-secondary dropdown-item\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"dropdown-item active\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", \"dropdown-item\", 3, \"click\"], [1, \"dropdown-item\", \"active\"], [1, \"dropdown-item\"], [\"id\", \"nav-toggler\", 1, \"navbar-toggler\", \"px-3\", \"d-md-none\", \"align-self-stretch\", \"d-inline-flex\", \"align-items-center\", 3, \"click\"], [1, \"pi\", \"pi-2070\"], [1, \"row\", \"justify-content-center\", \"top-navigation\", \"m-0\", \"d-md-flex\", 3, \"ngClass\"], [\"id\", \"navbarsDefault\", 1, \"navbar-collapse\"], [\"id\", \"nav\", 1, \"navbar-nav\", \"mx-auto\", \"justify-content-center\"], [1, \"search-textbox\", \"d-md-none\"]],\n      template: function SwissPostIntranetHeaderComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵprojectionDef();\n          i0.ɵɵtemplate(0, SwissPostIntranetHeaderComponent_section_0_Template, 2, 1, \"section\", 0);\n          i0.ɵɵtemplate(1, SwissPostIntranetHeaderComponent_ng_template_1_Template, 28, 19, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        }\n        if (rf & 2) {\n          const _r1 = i0.ɵɵreference(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.isPreview)(\"ngIfElse\", _r1);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i3.NgTemplateOutlet, i4.NgbDropdown, i4.NgbDropdownToggle, i4.NgbDropdownMenu],\n      styles: [\"section.layout-container.preview[_ngcontent-%COMP%] {\\n  height: auto;\\n}\\n\\nsection.layout-container.preview[_ngcontent-%COMP%]   #sidebar[_ngcontent-%COMP%]   .sidebar-sticky[_ngcontent-%COMP%], section.layout-container.preview[_ngcontent-%COMP%]   header[_ngcontent-%COMP%], section.layout-container.preview[_ngcontent-%COMP%]   header.navbar[_ngcontent-%COMP%] {\\n  position: relative;\\n}\\n\\nsection.layout-container.preview[_ngcontent-%COMP%]   header[_ngcontent-%COMP%], section.layout-container.preview[_ngcontent-%COMP%]   header.navbar[_ngcontent-%COMP%] {\\n  z-index: 1010;\\n}\\n\\nsection.layout-container.preview[_ngcontent-%COMP%]   #sidebar[_ngcontent-%COMP%]   .sidebar-sticky[_ngcontent-%COMP%] {\\n  max-width: none;\\n  padding: 0;\\n  width: calc(100% + 2rem);\\n}\\n\\nsection.layout-container.preview[_ngcontent-%COMP%]   .sidebar-sticky[_ngcontent-%COMP%]    > ul[_ngcontent-%COMP%] {\\n  padding-right: 0;\\n}\\n\\nsection.layout-container.preview[_ngcontent-%COMP%]   .header-margin[_ngcontent-%COMP%] {\\n  margin-top: 0;\\n}\\n\\n@media all and (max-width: 767.98px) {\\n  section.layout-container.preview[_ngcontent-%COMP%]   #sidebar[_ngcontent-%COMP%] {\\n    padding-right: 0;\\n  }\\n  section.layout-container.preview[_ngcontent-%COMP%]   #sidebar[_ngcontent-%COMP%]:not(.closed) {\\n    padding-bottom: 1rem;\\n  }\\n  section.layout-container.preview[_ngcontent-%COMP%]   #sidebar[_ngcontent-%COMP%]    + main[_ngcontent-%COMP%] {\\n    margin-top: 0;\\n  }\\n  section.layout-container.preview[_ngcontent-%COMP%]   #sidebar[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]    > ul[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]:first-child {\\n    padding-top: 2rem;\\n    margin-right: 0px;\\n  }\\n  section.layout-container.preview[_ngcontent-%COMP%]   .sidebar-sticky[_ngcontent-%COMP%] {\\n    width: 100%;\\n    margin-left: 0px;\\n  }\\n  section.layout-container.preview[_ngcontent-%COMP%]   #sidebar[_ngcontent-%COMP%]   .sidebar-sticky[_ngcontent-%COMP%]    > ul[_ngcontent-%COMP%] {\\n    padding-right: 0;\\n  }\\n  section.layout-container.preview[_ngcontent-%COMP%]   #sidebar[_ngcontent-%COMP%]   .sidebar-sticky[_ngcontent-%COMP%] {\\n    max-width: none;\\n    padding: 0;\\n    width: calc(100% + 1rem);\\n  }\\n}\\npre.scroll[_ngcontent-%COMP%] {\\n  max-height: 10rem;\\n  overflow-y: auto;\\n}\\n\\n.alert[_ngcontent-%COMP%]   .pi.placing[_ngcontent-%COMP%]::before {\\n  position: absolute;\\n  margin-top: -0.6rem;\\n  margin-left: -0.4rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN3aXNzcG9zdC1pbnRyYW5ldC1oZWFkZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0FBQ0Y7O0FBRUE7OztFQUdFLGtCQUFBO0FBQ0Y7O0FBRUE7O0VBRUUsYUFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLFVBQUE7RUFDQSx3QkFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7QUFDRjs7QUFFQTtFQUNFO0lBQ0UsZ0JBQUE7RUFDRjtFQUVBO0lBQ0Usb0JBQUE7RUFBRjtFQUdBO0lBQ0UsYUFBQTtFQURGO0VBSUE7SUFDRSxpQkFBQTtJQUNBLGlCQUFBO0VBRkY7RUFLQTtJQUNFLFdBQUE7SUFDQSxnQkFBQTtFQUhGO0VBTUE7SUFDRSxnQkFBQTtFQUpGO0VBT0E7SUFDRSxlQUFBO0lBQ0EsVUFBQTtJQUNBLHdCQUFBO0VBTEY7QUFDRjtBQVFBO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtBQU5GOztBQVNBO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtFQUNBLG9CQUFBO0FBTkYiLCJmaWxlIjoic3dpc3Nwb3N0LWludHJhbmV0LWhlYWRlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInNlY3Rpb24ubGF5b3V0LWNvbnRhaW5lci5wcmV2aWV3IHtcclxuICBoZWlnaHQ6IGF1dG87XHJcbn1cclxuXHJcbnNlY3Rpb24ubGF5b3V0LWNvbnRhaW5lci5wcmV2aWV3ICNzaWRlYmFyIC5zaWRlYmFyLXN0aWNreSxcclxuc2VjdGlvbi5sYXlvdXQtY29udGFpbmVyLnByZXZpZXcgaGVhZGVyLFxyXG5zZWN0aW9uLmxheW91dC1jb250YWluZXIucHJldmlldyBoZWFkZXIubmF2YmFyIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbnNlY3Rpb24ubGF5b3V0LWNvbnRhaW5lci5wcmV2aWV3IGhlYWRlcixcclxuc2VjdGlvbi5sYXlvdXQtY29udGFpbmVyLnByZXZpZXcgaGVhZGVyLm5hdmJhciB7XHJcbiAgei1pbmRleDogMTAxMDtcclxufVxyXG5cclxuc2VjdGlvbi5sYXlvdXQtY29udGFpbmVyLnByZXZpZXcgI3NpZGViYXIgLnNpZGViYXItc3RpY2t5IHtcclxuICBtYXgtd2lkdGg6IG5vbmU7XHJcbiAgcGFkZGluZzogMDtcclxuICB3aWR0aDogY2FsYygxMDAlICsgMnJlbSk7XHJcbn1cclxuXHJcbnNlY3Rpb24ubGF5b3V0LWNvbnRhaW5lci5wcmV2aWV3IC5zaWRlYmFyLXN0aWNreSA+IHVsIHtcclxuICBwYWRkaW5nLXJpZ2h0OiAwO1xyXG59XHJcblxyXG5zZWN0aW9uLmxheW91dC1jb250YWluZXIucHJldmlldyAuaGVhZGVyLW1hcmdpbiB7XHJcbiAgbWFyZ2luLXRvcDogMDtcclxufVxyXG5cclxuQG1lZGlhIGFsbCBhbmQgKG1heC13aWR0aDogNzY3Ljk4cHgpIHtcclxuICBzZWN0aW9uLmxheW91dC1jb250YWluZXIucHJldmlldyAjc2lkZWJhciB7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAwO1xyXG4gIH1cclxuXHJcbiAgc2VjdGlvbi5sYXlvdXQtY29udGFpbmVyLnByZXZpZXcgI3NpZGViYXI6bm90KC5jbG9zZWQpIHtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxcmVtO1xyXG4gIH1cclxuXHJcbiAgc2VjdGlvbi5sYXlvdXQtY29udGFpbmVyLnByZXZpZXcgI3NpZGViYXIgKyBtYWluIHtcclxuICAgIG1hcmdpbi10b3A6IDA7XHJcbiAgfVxyXG5cclxuICBzZWN0aW9uLmxheW91dC1jb250YWluZXIucHJldmlldyAjc2lkZWJhciA+IGRpdiA+IHVsID4gbGk6Zmlyc3QtY2hpbGQge1xyXG4gICAgcGFkZGluZy10b3A6IDJyZW07XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDBweDtcclxuICB9XHJcblxyXG4gIHNlY3Rpb24ubGF5b3V0LWNvbnRhaW5lci5wcmV2aWV3IC5zaWRlYmFyLXN0aWNreSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbi1sZWZ0OiAwcHg7XHJcbiAgfVxyXG5cclxuICBzZWN0aW9uLmxheW91dC1jb250YWluZXIucHJldmlldyAjc2lkZWJhciAuc2lkZWJhci1zdGlja3kgPiB1bCB7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAwO1xyXG4gIH1cclxuXHJcbiAgc2VjdGlvbi5sYXlvdXQtY29udGFpbmVyLnByZXZpZXcgI3NpZGViYXIgLnNpZGViYXItc3RpY2t5IHtcclxuICAgIG1heC13aWR0aDogbm9uZTtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICB3aWR0aDogY2FsYygxMDAlICsgMXJlbSk7XHJcbiAgfVxyXG59XHJcblxyXG5wcmUuc2Nyb2xsIHtcclxuICBtYXgtaGVpZ2h0OiAxMHJlbTtcclxuICBvdmVyZmxvdy15OiBhdXRvO1xyXG59XHJcblxyXG4uYWxlcnQgLnBpLnBsYWNpbmc6OmJlZm9yZSB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIG1hcmdpbi10b3A6IC0wLjZyZW07XHJcbiAgbWFyZ2luLWxlZnQ6IC0wLjRyZW07XHJcbn1cclxuIl19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2ludHJhbmV0LWhlYWRlci9zcmMvbGliL3N3aXNzcG9zdC1pbnRyYW5ldC1oZWFkZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0FBQ0Y7O0FBRUE7OztFQUdFLGtCQUFBO0FBQ0Y7O0FBRUE7O0VBRUUsYUFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLFVBQUE7RUFDQSx3QkFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7QUFDRjs7QUFFQTtFQUNFO0lBQ0UsZ0JBQUE7RUFDRjtFQUVBO0lBQ0Usb0JBQUE7RUFBRjtFQUdBO0lBQ0UsYUFBQTtFQURGO0VBSUE7SUFDRSxpQkFBQTtJQUNBLGlCQUFBO0VBRkY7RUFLQTtJQUNFLFdBQUE7SUFDQSxnQkFBQTtFQUhGO0VBTUE7SUFDRSxnQkFBQTtFQUpGO0VBT0E7SUFDRSxlQUFBO0lBQ0EsVUFBQTtJQUNBLHdCQUFBO0VBTEY7QUFDRjtBQVFBO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtBQU5GOztBQVNBO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtFQUNBLG9CQUFBO0FBTkY7QUFDQSx3akdBQXdqRyIsInNvdXJjZXNDb250ZW50IjpbInNlY3Rpb24ubGF5b3V0LWNvbnRhaW5lci5wcmV2aWV3IHtcclxuICBoZWlnaHQ6IGF1dG87XHJcbn1cclxuXHJcbnNlY3Rpb24ubGF5b3V0LWNvbnRhaW5lci5wcmV2aWV3ICNzaWRlYmFyIC5zaWRlYmFyLXN0aWNreSxcclxuc2VjdGlvbi5sYXlvdXQtY29udGFpbmVyLnByZXZpZXcgaGVhZGVyLFxyXG5zZWN0aW9uLmxheW91dC1jb250YWluZXIucHJldmlldyBoZWFkZXIubmF2YmFyIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbnNlY3Rpb24ubGF5b3V0LWNvbnRhaW5lci5wcmV2aWV3IGhlYWRlcixcclxuc2VjdGlvbi5sYXlvdXQtY29udGFpbmVyLnByZXZpZXcgaGVhZGVyLm5hdmJhciB7XHJcbiAgei1pbmRleDogMTAxMDtcclxufVxyXG5cclxuc2VjdGlvbi5sYXlvdXQtY29udGFpbmVyLnByZXZpZXcgI3NpZGViYXIgLnNpZGViYXItc3RpY2t5IHtcclxuICBtYXgtd2lkdGg6IG5vbmU7XHJcbiAgcGFkZGluZzogMDtcclxuICB3aWR0aDogY2FsYygxMDAlICsgMnJlbSk7XHJcbn1cclxuXHJcbnNlY3Rpb24ubGF5b3V0LWNvbnRhaW5lci5wcmV2aWV3IC5zaWRlYmFyLXN0aWNreSA+IHVsIHtcclxuICBwYWRkaW5nLXJpZ2h0OiAwO1xyXG59XHJcblxyXG5zZWN0aW9uLmxheW91dC1jb250YWluZXIucHJldmlldyAuaGVhZGVyLW1hcmdpbiB7XHJcbiAgbWFyZ2luLXRvcDogMDtcclxufVxyXG5cclxuQG1lZGlhIGFsbCBhbmQgKG1heC13aWR0aDogNzY3Ljk4cHgpIHtcclxuICBzZWN0aW9uLmxheW91dC1jb250YWluZXIucHJldmlldyAjc2lkZWJhciB7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAwO1xyXG4gIH1cclxuXHJcbiAgc2VjdGlvbi5sYXlvdXQtY29udGFpbmVyLnByZXZpZXcgI3NpZGViYXI6bm90KC5jbG9zZWQpIHtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxcmVtO1xyXG4gIH1cclxuXHJcbiAgc2VjdGlvbi5sYXlvdXQtY29udGFpbmVyLnByZXZpZXcgI3NpZGViYXIgKyBtYWluIHtcclxuICAgIG1hcmdpbi10b3A6IDA7XHJcbiAgfVxyXG5cclxuICBzZWN0aW9uLmxheW91dC1jb250YWluZXIucHJldmlldyAjc2lkZWJhciA+IGRpdiA+IHVsID4gbGk6Zmlyc3QtY2hpbGQge1xyXG4gICAgcGFkZGluZy10b3A6IDJyZW07XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDBweDtcclxuICB9XHJcblxyXG4gIHNlY3Rpb24ubGF5b3V0LWNvbnRhaW5lci5wcmV2aWV3IC5zaWRlYmFyLXN0aWNreSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbi1sZWZ0OiAwcHg7XHJcbiAgfVxyXG5cclxuICBzZWN0aW9uLmxheW91dC1jb250YWluZXIucHJldmlldyAjc2lkZWJhciAuc2lkZWJhci1zdGlja3kgPiB1bCB7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAwO1xyXG4gIH1cclxuXHJcbiAgc2VjdGlvbi5sYXlvdXQtY29udGFpbmVyLnByZXZpZXcgI3NpZGViYXIgLnNpZGViYXItc3RpY2t5IHtcclxuICAgIG1heC13aWR0aDogbm9uZTtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICB3aWR0aDogY2FsYygxMDAlICsgMXJlbSk7XHJcbiAgfVxyXG59XHJcblxyXG5wcmUuc2Nyb2xsIHtcclxuICBtYXgtaGVpZ2h0OiAxMHJlbTtcclxuICBvdmVyZmxvdy15OiBhdXRvO1xyXG59XHJcblxyXG4uYWxlcnQgLnBpLnBsYWNpbmc6OmJlZm9yZSB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIG1hcmdpbi10b3A6IC0wLjZyZW07XHJcbiAgbWFyZ2luLWxlZnQ6IC0wLjRyZW07XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["LOCALE_ID","SecurityContext","NavigationStart","Subject","fromEvent","debounceTime","distinctUntilChanged","userImage","i0","ɵɵelementStart","ɵɵelementContainer","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","_r1","ɵɵelement","ctx_r4","searchUrl","ɵɵsanitizeUrl","ɵɵpropertyInterpolate","getPlaceholderSearchIntranet","ctx_r5","optionHeaderContent","_r14","ɵɵlistener","SwissPostIntranetHeaderComponent_ng_template_1_ng_container_19_button_1_Template_button_click_0_listener","ɵɵrestoreView","_r20","appLang_r15","ɵɵnextContext","$implicit","ctx_r18","ɵɵresetView","handleLanguageChange","ɵɵtext","ɵɵtextInterpolate1","toUpperCase","ɵɵelementContainerStart","ɵɵtemplate","SwissPostIntranetHeaderComponent_ng_template_1_ng_container_19_button_1_Template","SwissPostIntranetHeaderComponent_ng_template_1_ng_container_19_div_2_Template","ɵɵelementContainerEnd","ctx_r7","isLanguageActive","ctx_r8","currentUserId","ctx_r9","displayName","ctx_r10","additionalInfo","SwissPostIntranetHeaderComponent_ng_template_1_div_25_Template_div_click_0_listener","_r24","ctx_r23","toggleMenu","ɵɵprojection","ɵɵpureFunction1","_c2","ctx_r12","openedMenu","ctx_r13","SwissPostIntranetHeaderComponent_ng_template_1_div_10_Template","SwissPostIntranetHeaderComponent_ng_template_1_div_11_Template","SwissPostIntranetHeaderComponent_ng_template_1_ng_container_19_Template","SwissPostIntranetHeaderComponent_ng_template_1_Template_div_click_20_listener","$event","_r26","ctx_r25","optionDropdownClick","SwissPostIntranetHeaderComponent_ng_template_1_div_21_Template","SwissPostIntranetHeaderComponent_ng_template_1_div_22_Template","SwissPostIntranetHeaderComponent_ng_template_1_div_23_Template","SwissPostIntranetHeaderComponent_ng_template_1_div_25_Template","SwissPostIntranetHeaderComponent_ng_template_1_nav_26_Template","SwissPostIntranetHeaderComponent_ng_template_1_div_27_Template","ctx_r2","logoUrl","ɵɵtextInterpolate","siteTitle","showIntranetSearch","_c3","avatarUrl","appLangs","optionDropdownContent","_c4","_r6","hasNavbar","SwissPostIntranetHeaderComponent","constructor","lang","router","zone","domSanitizer","languages","isPreview","createSafeAvatarUrl","openedLangChooser","openedMenuOverflow","localization","moreLabel","de","fr","it","en","searchPlaceholder","windowResize$","events","subscribe","e","hideMenuOverflow","navigationResize","runOutsideAngular","window","pipe","run","next","overflowItems","navItems","filter","el","classList","contains","ngOnInit","split","setLang","tempArr","RegExp","exec","location","href","length","ngOnChanges","changes","ngAfterViewInit","dom","nativeElement","querySelector","extensionElement","navElement","Array","from","querySelectorAll","insertAdjacentHTML","moreElement","toggleElement","getElementsByTagName","addEventListener","toggleMenuOverflow","handleOverflowKeyEvent","updateMoreElementText","MutationObserver","navChanges","m","navMutationCallback","observe","childList","characterData","subtree","mutationList","some","mutation","type","textNodeType","target","nodeType","sanitizedLocationUrl","sanitize","URL","currentLoc","replace","indexOf","value","doOpenMenu","remove","forEach","style","display","add","code","event","tagName","toLowerCase","optionDropdown","close","index","transform","width","listMargin","navItemWidth","reduce","acc","scrollWidth","documentWidth","document","documentElement","navWidth","lastNavItem","greaterWidth","undefined","lastNavItemWidth","getBoundingClientRect","Math","ceil","pop","insertBefore","encodeURIComponent","languageField","innerText","getTextForMoreElement","ɵɵdirectiveInject","i1","Router","NgZone","i2","DomSanitizer","selectors","viewQuery","SwissPostIntranetHeaderComponent_Query","rf","ctx","SwissPostIntranetHeaderComponent_section_0_Template","SwissPostIntranetHeaderComponent_ng_template_1_Template","ɵɵtemplateRefExtractor"],"sourceRoot":"","sources":["C:\\Git\\design-system\\packages\\components-angular\\projects\\intranet-header\\src\\lib\\swisspost-intranet-header.component.ts","C:\\Git\\design-system\\packages\\components-angular\\projects\\intranet-header\\src\\lib\\swisspost-intranet-header.component.html"],"sourcesContent":["import {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  Inject,\r\n  Input,\r\n  LOCALE_ID,\r\n  NgZone,\r\n  OnChanges,\r\n  OnInit,\r\n  SecurityContext,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\r\nimport { NavigationStart, Router } from '@angular/router';\r\nimport { NgbDropdown } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Subject, fromEvent } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\nimport { userImage } from './user';\r\n\r\n@Component({\r\n  selector: 'sp-intranet-header',\r\n  templateUrl: './swisspost-intranet-header.component.html',\r\n  styleUrls: ['./swisspost-intranet-header.component.scss'],\r\n})\r\nexport class SwissPostIntranetHeaderComponent implements OnInit, OnChanges, AfterViewInit {\r\n  @Input() siteTitle: string = '';\r\n  @Input() languages = 'de,fr,it,en';\r\n  @Input() isPreview = false;\r\n  @Input() currentUserId: string = '';\r\n  @Input() displayName: string = '';\r\n  @Input() additionalInfo: string = '';\r\n  @Input() hasNavbar = true;\r\n  @Input() showIntranetSearch = false;\r\n  @Input() optionDropdownContent!: TemplateRef<any>;\r\n  @Input() optionHeaderContent!: TemplateRef<any>;\r\n  @Input() logoUrl: string = '';\r\n  @Input() searchUrl: string = '';\r\n\r\n  @ViewChild('domWrapper')\r\n  dom!: ElementRef;\r\n  @ViewChild('optionDropdown') optionDropdown!: NgbDropdown;\r\n\r\n  appLangs!: string[];\r\n  avatarUrl = this.createSafeAvatarUrl();\r\n  openedMenu = false;\r\n  openedLangChooser = false;\r\n  openedMenuOverflow = false;\r\n\r\n  localization: {\r\n    moreLabel: { [key: string]: string };\r\n    searchPlaceholder: { [key: string]: string };\r\n  } = {\r\n    moreLabel: {\r\n      de: 'Mehr',\r\n      fr: 'Plus',\r\n      it: 'Più',\r\n      en: 'More',\r\n    },\r\n    searchPlaceholder: {\r\n      de: 'Intranet durchsuchen',\r\n      fr: \"Parcourir l'Intranet\",\r\n      it: 'Cercare in intranet',\r\n      en: 'Browse the intranet',\r\n    },\r\n  };\r\n\r\n  private windowResize$ = new Subject();\r\n  private moreElement!: HTMLElement;\r\n  private navElement!: HTMLElement;\r\n  private navItems!: Array<HTMLElement>;\r\n  private navChanges!: MutationObserver;\r\n\r\n  constructor(\r\n    @Inject(LOCALE_ID) public lang: string,\r\n    private router: Router,\r\n    private zone: NgZone,\r\n    private domSanitizer: DomSanitizer,\r\n  ) {\r\n    this.router.events.subscribe(e => {\r\n      if (e instanceof NavigationStart) {\r\n        if (this.openedMenuOverflow) {\r\n          this.hideMenuOverflow();\r\n        }\r\n        this.openedMenu = false;\r\n        this.openedLangChooser = false;\r\n      }\r\n    });\r\n\r\n    // use rxjs instead of HostListener to enable usage of debounce operator (see https://stackoverflow.com/a/44055389)\r\n    // => drastically improves performance of component!\r\n    this.windowResize$.subscribe(() => {\r\n      this.navigationResize();\r\n    });\r\n\r\n    this.zone.runOutsideAngular(() => {\r\n      fromEvent(window, 'resize')\r\n        .pipe(debounceTime(50), distinctUntilChanged())\r\n        .subscribe((e: Event) => {\r\n          this.zone.run(() => {\r\n            this.windowResize$.next(e);\r\n          });\r\n        });\r\n    });\r\n  }\r\n\r\n  private get overflowItems() {\r\n    return this.navItems.filter((el: HTMLElement) => el.classList.contains('nav-overflow'));\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.appLangs = this.languages.split(',');\r\n    this.setLang(this.lang);\r\n    const tempArr = RegExp(/lang=([a-zA-Z]{2})/).exec(location.href);\r\n    if (tempArr && tempArr.length > 1) {\r\n      this.setLang(tempArr[1]);\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['currentUserId']) {\r\n      this.avatarUrl = this.createSafeAvatarUrl();\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    // this check is needed, because it would add another element when a link from within \"#overflow\" is clicked\r\n    if (this.dom.nativeElement.querySelector('#more') == null) {\r\n      const extensionElement = `<li tabindex=\"0\" class=\"nav-item${\r\n        this.openedMenuOverflow ? '' : ' hidden'\r\n      }\" id=\"more\">\r\n                                    <span class=\"nav-link col-auto py-3 px-4\"></span>\r\n                                </li>`;\r\n      this.navElement = this.dom.nativeElement.querySelector('#nav');\r\n      if (this.navElement == null) {\r\n        return;\r\n      }\r\n      this.navItems = Array.from(this.navElement.querySelectorAll('.nav-item'));\r\n      this.navElement.insertAdjacentHTML('beforeend', extensionElement);\r\n      this.moreElement = this.dom.nativeElement.querySelector('#more');\r\n      const toggleElement = this.moreElement.getElementsByTagName('span')[0];\r\n      toggleElement.addEventListener('click', () => this.toggleMenuOverflow());\r\n      this.moreElement.addEventListener('keydown', (e: KeyboardEvent) =>\r\n        this.handleOverflowKeyEvent(e),\r\n      );\r\n      this.updateMoreElementText();\r\n      this.navigationResize();\r\n\r\n      if (!MutationObserver) {\r\n        return;\r\n      }\r\n      this.navChanges = new MutationObserver(m => this.navMutationCallback(m));\r\n      this.navChanges.observe(this.navElement, {\r\n        childList: true,\r\n        characterData: true,\r\n        subtree: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  public navMutationCallback(mutationList: MutationRecord[]) {\r\n    if (mutationList.some(mutation => mutation.type === 'childList')) {\r\n      // Resize the navbar anytime an nav item is added or removed\r\n      const navItems = Array.from(\r\n        this.navElement.querySelectorAll<HTMLElement>('.nav-item:not(#more)'),\r\n      );\r\n      if (navItems.length !== this.navItems.length) {\r\n        this.navItems = navItems;\r\n        this.navigationResize();\r\n      }\r\n    } else {\r\n      // Resize the navbar anytime the text of a nav item changes\r\n      const textNodeType = 3;\r\n      if (\r\n        mutationList.some(\r\n          mutation =>\r\n            mutation.type === 'characterData' && mutation.target.nodeType === textNodeType,\r\n        )\r\n      ) {\r\n        this.navigationResize();\r\n      }\r\n    }\r\n  }\r\n\r\n  public handleLanguageChange(lang: string) {\r\n    if (lang !== this.lang) {\r\n      const sanitizedLocationUrl = this.domSanitizer.sanitize(SecurityContext.URL, location.href);\r\n      this.setLang(lang);\r\n\r\n      if (!sanitizedLocationUrl) {\r\n        return;\r\n      }\r\n\r\n      const currentLoc = sanitizedLocationUrl;\r\n      if (RegExp(/lang=[a-zA-Z]+/).exec(currentLoc)) {\r\n        // lang paramter is already present in url\r\n        location.href = currentLoc.replace(/lang=[a-zA-Z]{2}/, `lang=${lang}`);\r\n      } else {\r\n        // add lang parameter, handle case when a query string is already present or not\r\n        location.href = currentLoc + (currentLoc.indexOf('?') < 0 ? '?' : '&') + `lang=${lang}`;\r\n      }\r\n    }\r\n  }\r\n\r\n  public setLang(value: string) {\r\n    if (this.appLangs.indexOf(value) >= 0) {\r\n      this.lang = value;\r\n    } else {\r\n      this.lang = this.appLangs[0];\r\n    }\r\n    if (this.dom != null) {\r\n      this.updateMoreElementText();\r\n    }\r\n  }\r\n\r\n  public toggleMenu() {\r\n    this.openedMenu = !this.openedMenu;\r\n  }\r\n\r\n  public toggleMenuOverflow(doOpenMenu = !this.openedMenuOverflow) {\r\n    if (!this.moreElement) {\r\n      return;\r\n    }\r\n\r\n    this.openedMenuOverflow = doOpenMenu;\r\n    if (this.openedMenuOverflow) {\r\n      this.moreElement.classList.remove('hidden');\r\n      this.overflowItems.forEach((el: HTMLElement) => (el.style.display = ''));\r\n    } else {\r\n      this.moreElement.classList.add('hidden');\r\n      this.overflowItems.forEach((el: HTMLElement) => (el.style.display = 'none'));\r\n    }\r\n  }\r\n\r\n  public hideMenuOverflow() {\r\n    this.toggleMenuOverflow(false);\r\n  }\r\n\r\n  public handleOverflowKeyEvent(e: KeyboardEvent) {\r\n    if (e.code === 'Enter' || e.code === 'Space') {\r\n      this.toggleMenuOverflow();\r\n    }\r\n  }\r\n\r\n  // Close dropdown on link clicks https://github.com/swisspost/design-system/issues/1300\r\n  public optionDropdownClick(event: MouseEvent) {\r\n    const target = event.target as HTMLElement;\r\n    if (target.tagName.toLowerCase() === 'a') {\r\n      this.optionDropdown.close();\r\n    }\r\n  }\r\n\r\n  public navigationResize() {\r\n    const navItems: Array<HTMLElement> = [];\r\n\r\n    if (this.moreElement == null) {\r\n      return;\r\n    }\r\n\r\n    // Hide overflow items\r\n    this.toggleMenuOverflow(false);\r\n\r\n    // Reset all the nav items\r\n    this.navItems.forEach((el: HTMLElement, index) => {\r\n      el.classList.remove('nav-overflow');\r\n      el.style.transform = '';\r\n      el.style.width = '';\r\n      el.style.display = '';\r\n      navItems[index] = el;\r\n    });\r\n\r\n    // Get the total width of the nav items\r\n    const listMargin = 40;\r\n    const navItemWidth = navItems.reduce((acc, el) => acc + el.scrollWidth, listMargin);\r\n\r\n    // Get document width\r\n    const documentWidth = document.documentElement.scrollWidth;\r\n\r\n    // Display the more element if necessary, hide it otherwise\r\n    this.moreElement.style.display = navItemWidth > documentWidth ? '' : 'none';\r\n\r\n    // If the navbar is too wide, turn the nav items into overflow items one by one\r\n    if (navItemWidth > documentWidth) {\r\n      let navWidth = navItemWidth + this.moreElement.scrollWidth;\r\n      let lastNavItem: HTMLElement;\r\n      let greaterWidth = 0;\r\n\r\n      while (navWidth > documentWidth) {\r\n        lastNavItem = navItems[navItems.length - 1];\r\n\r\n        if (lastNavItem === undefined) {\r\n          break;\r\n        }\r\n\r\n        lastNavItem.classList.add('nav-overflow');\r\n        const lastNavItemWidth = lastNavItem.getBoundingClientRect().width;\r\n\r\n        if (lastNavItemWidth > greaterWidth) {\r\n          greaterWidth = Math.ceil(lastNavItemWidth);\r\n        }\r\n\r\n        navWidth -= lastNavItemWidth;\r\n        navItems.pop();\r\n      }\r\n\r\n      // Move the \"More\" element before the overflow items\r\n      this.navElement.insertBefore(this.moreElement, lastNavItem!);\r\n\r\n      // Adjust the overflow items\r\n      this.overflowItems.forEach((el: HTMLElement, index) => {\r\n        el.style.transform = `translateY(${index * 100}%)`;\r\n        el.style.width = `${greaterWidth}px`;\r\n        el.style.display = 'none';\r\n      });\r\n    }\r\n  }\r\n\r\n  public getPlaceholderSearchIntranet() {\r\n    return this.localization['searchPlaceholder'][this.lang.toLowerCase()];\r\n  }\r\n\r\n  public isLanguageActive(lang: string) {\r\n    return this.lang.toLowerCase() === lang.toLowerCase();\r\n  }\r\n\r\n  private createSafeAvatarUrl(): SafeUrl {\r\n    return this.currentUserId === null\r\n      ? userImage\r\n      : `https://web.post.ch/UserProfileImage/${encodeURIComponent(this.currentUserId)}.png`;\r\n  }\r\n\r\n  private updateMoreElementText() {\r\n    const languageField = this.dom.nativeElement.querySelector('#more > span');\r\n\r\n    // when no navigation bar is displayed theres no 'more' element\r\n    if (!languageField) {\r\n      return;\r\n    }\r\n\r\n    languageField.innerText = this.getTextForMoreElement();\r\n  }\r\n\r\n  private getTextForMoreElement() {\r\n    return this.localization['moreLabel'][this.lang.toLowerCase()];\r\n  }\r\n}\r\n","<section *ngIf=\"isPreview; else intranetHeader\" class=\"layout-container preview\">\r\n  <ng-container [ngTemplateOutlet]=\"intranetHeader\"></ng-container>\r\n</section>\r\n\r\n<ng-template #intranetHeader>\r\n  <header class=\"navbar navbar-expand-md flex-md-nowrap p-0\" #domWrapper>\r\n    <div class=\"nav-down\">\r\n      <div class=\"intranet-header\">\r\n        <div class=\"d-flex align-items-center flex-nowrap\">\r\n          <div class=\"bg-logo d-sm-block\">\r\n            <a [href]=\"this.logoUrl\" class=\"navbar-brand header-logo\"></a>\r\n          </div>\r\n          <div class=\"title flex-shrink-1 px-4\">\r\n            <h2 class=\"m-0 font-weight-bold\">{{ siteTitle }}</h2>\r\n          </div>\r\n          <div *ngIf=\"showIntranetSearch\" class=\"col search-textbox d-none d-md-block\">\r\n            <form [action]=\"searchUrl\">\r\n              <div class=\"input-group mx-auto\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"k\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"{{ getPlaceholderSearchIntranet() }}\"\r\n                />\r\n                <div class=\"input-group-append d-flex align-items-center\">\r\n                  <button class=\"btn pr-4\" type=\"submit\">\r\n                    <span><em class=\"pi pi-2069\"></em></span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div\r\n            *ngIf=\"optionHeaderContent\"\r\n            class=\"settings ms-auto flex-shrink-0 d-flex align-self-stretch\"\r\n          >\r\n            <div class=\"align-self-stretch d-flex\" display=\"dynamic\" container=\"body\">\r\n              <div class=\"align-self-center p-3\">\r\n                <div #headerExtraContent>\r\n                  <ng-container\r\n                    [ngTemplateOutlet]=\"optionHeaderContent\"\r\n                    [ngTemplateOutletContext]=\"headerExtraContent\"\r\n                  ></ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            [ngClass]=\"{ 'ms-auto': !optionHeaderContent }\"\r\n            class=\"settings flex-shrink-0 d-flex align-self-stretch\"\r\n          >\r\n            <div\r\n              class=\"align-self-stretch d-flex\"\r\n              #optionDropdown=\"ngbDropdown\"\r\n              ngbDropdown\r\n              autoClose=\"outside\"\r\n              display=\"dynamic\"\r\n              container=\"body\"\r\n              placement=\"bottom-right\"\r\n            >\r\n              <div\r\n                class=\"d-flex justify-content-center align-self-stretch px-3 no-toggle-arrow\"\r\n                id=\"profileMenu\"\r\n                ngbDropdownToggle\r\n              >\r\n                <img [src]=\"avatarUrl\" class=\"profile-image align-self-center\" alt=\"\" />\r\n              </div>\r\n              <div class=\"dropdown-menu\" id=\"languageParent\" ngbDropdownMenu>\r\n                <div class=\"language-menu\">\r\n                  <ng-container *ngFor=\"let appLang of appLangs\">\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-secondary dropdown-item\"\r\n                      *ngIf=\"!isLanguageActive(appLang)\"\r\n                      (click)=\"handleLanguageChange(appLang)\"\r\n                    >\r\n                      {{ appLang.toUpperCase() }}\r\n                    </button>\r\n                    <div class=\"dropdown-item active\" *ngIf=\"isLanguageActive(appLang)\">\r\n                      {{ appLang.toUpperCase() }}\r\n                    </div>\r\n                  </ng-container>\r\n                </div>\r\n                <div class=\"other-items\" (click)=\"optionDropdownClick($event)\">\r\n                  <div class=\"dropdown-item\" *ngIf=\"currentUserId\">\r\n                    {{ currentUserId }}\r\n                  </div>\r\n                  <div class=\"dropdown-item\" *ngIf=\"displayName\">\r\n                    {{ displayName }}\r\n                  </div>\r\n                  <div class=\"dropdown-item\" *ngIf=\"additionalInfo\">\r\n                    {{ additionalInfo }}\r\n                  </div>\r\n                  <ng-container\r\n                    [ngTemplateOutlet]=\"optionDropdownContent\"\r\n                    [ngTemplateOutletContext]=\"{ dropdownRef: optionDropdown }\"\r\n                  ></ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            *ngIf=\"hasNavbar === true\"\r\n            (click)=\"toggleMenu()\"\r\n            id=\"nav-toggler\"\r\n            class=\"navbar-toggler px-3 d-md-none align-self-stretch d-inline-flex align-items-center\"\r\n          >\r\n            <em class=\"pi pi-2070\"></em>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <nav\r\n        *ngIf=\"hasNavbar === true\"\r\n        class=\"row justify-content-center top-navigation m-0 d-md-flex\"\r\n        [ngClass]=\"{ 'd-none': !openedMenu }\"\r\n      >\r\n        <div class=\"navbar-collapse\" id=\"navbarsDefault\">\r\n          <ul id=\"nav\" class=\"navbar-nav mx-auto justify-content-center\">\r\n            <ng-content></ng-content>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n      <div *ngIf=\"showIntranetSearch\" class=\"search-textbox d-md-none\">\r\n        <form [action]=\"this.searchUrl\">\r\n          <div class=\"input-group mx-auto\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"k\"\r\n              class=\"form-control\"\r\n              placeholder=\"{{ getPlaceholderSearchIntranet() }}\"\r\n            />\r\n            <div class=\"input-group-append d-flex align-items-center\">\r\n              <button class=\"btn pr-4\" type=\"submit\">\r\n                <span><em class=\"pi pi-2069\"></em></span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </header>\r\n</ng-template>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}